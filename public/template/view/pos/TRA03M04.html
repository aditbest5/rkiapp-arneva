<script>
    var isiTable;

    function setDefault() {
        //let h = screen.height;
        //var a = (h - 100) * 45 / 100;
        //var b = (h - 100) * 75 / 100;
        //document.getElementById("ppob").style.height = b + "px";
        //getTokenKaspro('LOAD', 'kasProCustomerAccountInquery');
        backTampilan();


    }


    var jumlah_pos = 0;
    var d = new Date();
    var pktr = d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
    var struk = "";
    var valPpob;
    var felloDataInq;
    var felloSignatureBalInq;
    var felloAccessToken;
    var felloMultiProduct;
    var felloBit48;
    var felloBit2;
    var felloBit11;
    var ketWallet = "";




    function getTokenKaspro(tipe, command) {
        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/kaspro',
            type: 'POST',
            "cors": true,
            "crossDomain": true,
            "crossOrigin": true,
            data: {
                "cmd": "getTokenKasPro",
                "grant_type": "client_credentials",
                "url": 'https://apigw-devel.kaspro.id/authentication-server/oauth/token'
            },
            headers: {
                "Content-Type": "application/x-www-form-urlencoded",
                'Accept': 'application/json'
            },
            dataType: 'json',
            success: function (data) {
                //console.log(data);
                const myJsonString = JSON.stringify(data);
                const myArr = JSON.parse(myJsonString);
                var access_token = "Bearer " + myArr["access_token"];
                var hmacSecret = myArr["hmacSecret"];
                var hmacKey = myArr["hmacKey"];
                //console.log("gggg  " + access_token);
                if (command == "kasProCustomerAccountInquery") {
                    kasProCustomerAccountInquery(tipe, access_token, hmacSecret, hmacKey);
                } else if (command == "kasProBillerInquery") {
                    $('#modalPPOBNomor').prop("readonly", true);
                    $('#modalPPOBNomor').addClass("readonly");
                    kasProBillerInquery(tipe, access_token, hmacSecret, hmacKey);
                } else if (command == "savePPOB") {
                    savePPOB(tipe, access_token, hmacSecret, hmacKey);
                } else if (command == "saveOther") {
                    savePPOB(tipe, access_token, hmacSecret, hmacKey);
                } else if (command == "kasProBillerInqueryOther") {
                    kasProBillerInqueryOther(tipe, access_token, hmacSecret, hmacKey);
                } else if (command == "kasProBillerInqueryOtherPDAM") {
                    kasProBillerInqueryOther(tipe, access_token, hmacSecret, hmacKey);
                }
            }
        });
    }



    function savePPOB(tipe, access_token, hmacSecret, hmacKey) {
        var url = "/biller-payment/";
        var dateRequest = new Date().toGMTString();
        var signatureContentString = "(request-target): post " + url + "\n";
        signatureContentString = signatureContentString + "date: " + dateRequest;
        var hash = CryptoJS.HmacSHA256(signatureContentString, hmacSecret);
        var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);
        var hashInBase64UrlEncoded = encodeURIComponent(hashInBase64);
        var signature = 'Signature keyId="' + hmacKey + '",algorithm="hmac-sha256",headers="(request-target) date",signature="' + hashInBase64UrlEncoded + '"';

        var nama_customer = "";
        var amount = "";
        var real_amount = "";
        var dibayar = "";
        var kembalian = "";
        var total_item = "";
        var tipe_bayar = "";
        var total_belanja = "";
        var kode_bayar = "";
        var tipe_transaksi = "";
        var ket = "";
        //console.log("tipe :"+tipe)
        if (tipe == "PULSA" || tipe == "PAKETDATA") {
            nama_customer = $('#customer_name').val();
            amount = $('#valSubtotal').val();
            real_amount = $('#modalPPOBTotalBelanjaVal').val();
            dibayar = $('#modalPPOBJumlahUang').val();
            kembalian = $('#modalPPOBKembalianVal').val();
            total_item = $('#modalPPOBTotalItemBayarVal').val();
            tipe_bayar = $('#modalPPOBTypeBayar').val();
            total_belanja = $("#modalPPOBPrice").val();
            kode_title = $("#modalPPOBTitle").val()
            kode_bayar = $("#modalPPOBKodeBayar").val();
            tipe_transaksi = $("#modalPPOBTipeTransaksi").val();
            ket = $('#modalPPOBTranReason').val();

            if (parseInt(dibayar) - parseInt(real_amount) < 0) {
                alert("Uang Yang Dibayarkan Masih Kurang ! \n Tolong Cek Jumlah Uang Dulu");
                return;
            }
            if (dibayar == "" || dibayar == 0 || dibayar == "0") {
                alert("Tolong Isi Jumlah Uang Dahulu");
                return;
            }
            if (tipe_bayar == null) {
                alert(" Tolong Isi Cara Bayar Dahulu ");
                return;
            }
        } else if (tipe == "OTHER") {
            nama_customer = $('#customer_name').val();
            amount = $('#valSubtotal').val();
            real_amount = $('#modalOtherTagihan').val();//$('#modalOtherTotalBelanjaVal').val();
            dibayar = $('#modalOtherJumlahUang').val();
            kembalian = $('#modalOtherKembalianVal').val();
            total_item = $('#modalOtherTotalItemBayarVal').val();
            tipe_bayar = $('#modalOtherTypeBayar').val();
            total_belanja = $("#modalOtherPrice").val();
            kode_title = $("#modalOtherTitle").val()
            kode_bayar = $("#modalOtherKodeBayar").val();
            tipe_transaksi = $("#modalOtherTipeTransaksi").val();
            ket = $('#modalOtherTranReason').val();

            if (parseInt(dibayar) - parseInt(real_amount) < 0) {
                alert("Uang Yang Dibayarkan Masih Kurang ! \n Tolong Cek Jumlah Uang Dulu");
                return;
            }

            if (dibayar == "" || dibayar == 0 || dibayar == "0") {
                alert("Tolong Isi Jumlah Uang Dahulu");
                return;
            }
            if (tipe_bayar == null) {
                alert(" Tolong Isi Cara Bayar Dahulu ");
                return;
            }
        }
        swalStartLoading();
        var d = new Date();
        var mnth = parseInt(d.getMonth()) + 1;
        var nowe = d.getFullYear() + "-" + mnth + "-" + d.getDate() + " T " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds() + "." + d.getMilliseconds();
        var requestId = "ARV-PPOB-" + d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/pos/InsUpDelPos',
            type: 'POST',
            data: {
                "cmd": "insPpobSimpleMaster",
                "Authorization": access_token,
                "signature": signature,
                "date": dateRequest,
                kop_id: $("#login_kop_id").val(),
                userIns: $('#login_userId').val(),
                no_anggota: $('#login_userId').val(),
                TransactionId: ketWallet,
                nama_customer: nama_customer,
                amount: amount,
                real_amount: real_amount,
                dibayar: dibayar,
                kembalian: kembalian,
                total_item: total_item,
                tipe: tipe_bayar,
                tipe_transaksi: tipe_transaksi,
                total_belanja: total_belanja,
                kode_title: kode_title,
                kode_bayar: kode_bayar,
                ket: ket,
                nowe: nowe,
                param: JSON.stringify(valPpob)
            }, dataType: 'json',
            success: function (data) {
                const myJsonString = JSON.stringify(data);
                const myArr = JSON.parse(myJsonString);
                //console.log(myArr.length);
                if (myArr["sts"] == "OK") {
                    if (tipe_transaksi == "PULSA" || tipe_transaksi == "PAKETDATA") {
                        hideModalPPOB();
                        $.ajax({
                            url: 'https://api-rki.rkicoop.co.id/api/kaspro',
                            type: 'POST',
                            data: {
                                "cmd": "billerPayment",
                                "tipe": tipe_transaksi,
                                "productCode": valPpob.Code,
                                "Account": valPpob.Account,
                                "ppobid": myArr["msg"],
                                "requestId": requestId,
                                "Authorization": access_token,
                                "signature": signature,
                                "noAccount": $("#login_no_account").val(),
                                "date": dateRequest
                            }, dataType: 'json',
                            success: function (data) {
                                const myJsonString = JSON.stringify(data);
                                const myArr = JSON.parse(myJsonString);

                                if (tipe_transaksi == "PULSA" || tipe == "PAKETDATA") {
                                    if (myArr["sts"] == "OK") {
                                        salert(myArr["desc"], 'success', 'Success');
                                    } else {
                                        //$('#saldo').text("Rp 0");
                                    }
                                }
                            }
                        }).done(function (msg) {
                            //$("#myModal").modal('hide');
                        }).fail(function (jqXHR, textStatus) {
                            salert("Request failed: " + textStatus);
                            //$("#myModal").modal('hide');
                        });
                        //hideModalPPOB();


                    } else {
                        hideModalOther();
                    }

                    //if ($("#strukYn").val() == "000001") {
                    //    printStruck();
                    //}
                    //salertFunction(myArr["desc"], 'success', 'Success', "cancelBill", "");
                    pktr = d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
                } else {
                    swalFinishLoading();
                    salert("Error ! " + myArr["desc"] + "\n" + myArr["msg"], 'error', 'Error');
                }
            }
        });
    }



    function kasProCustomerAccountInquery(tipe, access_token, hmacSecret, hmacKey) {
        var tipeNm = "";
        $("#modalPPOBModalTitle").text("");
        $("#modalOtherModalTitle").text("");
        var url = "/customer-account-inquiry/";
        var dateRequest = new Date().toUTCString();
        var signatureContentString = "(request-target): get " + url + "\n";
        signatureContentString = signatureContentString + "date: " + dateRequest;
        var hash = CryptoJS.HmacSHA256(signatureContentString, hmacSecret);
        var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);
        var hashInBase64UrlEncoded = encodeURIComponent(hashInBase64);
        var signature = 'Signature keyId="' + hmacKey + '",algorithm="hmac-sha256",headers="(request-target) date",signature="' + hashInBase64UrlEncoded + '"';

        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/kaspro',
            type: 'POST',
            data: {
                "cmd": "customerAccountInquery",
                "Authorization": access_token,
                "signature": signature,
                "date": dateRequest,
                "noAccount": $("#login_no_account").val()
            }, dataType: 'json',
            success: function (data) {
                const myJsonString = JSON.stringify(data);
                const myArr = JSON.parse(myJsonString);
                console.log(tipe);
                if (tipe == "PULSA" || tipe == "PAKETDATA") {
                    if (tipe == "PULSA") {
                        tipeNm = "PPOB PULSA ";
                    } else {
                        tipeNm = "PPOB PAKET DATA ";
                    }
                    $("#modalPPOBModalTitle").text(tipeNm + " Acount:" + myArr["data"]["mobileNumber"] + " Balance: " + myArr["data"]["balance"]["availableBalance"]);

                } else if (tipe == "TOPUP") {
                    $("#modalTopUpName").text(myArr["data"]["fullName"]);
                    $("#modalTopUpSaldo").text(myArr["data"]["balance"]["availableBalance"]);
                    $("#modalTopUpNoAcount").text(myArr["data"]["mobileNumber"]);

                } else if (tipe == "LOAD") {
                    $("#account_saldo").text("Saldo:" + myArr["data"]["balance"]["availableBalance"]);
                    $("#account_mobile").text("Account:" + myArr["data"]["mobileNumber"]);

                }

            }
        });

    }


    function kasProBillerInquery(tipe, access_token, hmacSecret, hmacKey) {
        var provider = $("#modalPPOBProvider").val();
        var noTelp = $("#modalPPOBNomor").val();
        if (provider == null) {
            alert("Tolong Pilih Provider Terlebih Dahulu");
            return;
        }
        if (noTelp == "") {
            alert("Tolong Masukan Nomor Telpon Terlebih Dahulu");
            return;
        }

        var url = "/biller-inquiry/";
        var dateRequest = new Date().toUTCString();
        var signatureContentString = "(request-target): post " + url + "\n";
        signatureContentString = signatureContentString + "date: " + dateRequest;
        var hash = CryptoJS.HmacSHA256(signatureContentString, hmacSecret);
        var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);
        var hashInBase64UrlEncoded = encodeURIComponent(hashInBase64);
        var signature = 'Signature keyId="' + hmacKey + '",algorithm="hmac-sha256",headers="(request-target) date",signature="' + hashInBase64UrlEncoded + '"';

        var b = "";
        var tipe = $("#modalPPOBTipe").val();
        $("#biilerInq").html("<div class='col-12' ><center><i style='font-size:50px;' class='fa fa-refresh rotate-refresh text-info'></i><br> Please Wait...</center></div>")
        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/kaspro',
            type: 'POST',
            data: {
                "cmd": "billerInquery",
                "Authorization": access_token,
                "signature": signature,
                "date": dateRequest,
                "tipe": tipe,
                "requestId": "arneva-0111",
                "productCode": "PL",
                "account": ""
            }, dataType: 'json',
            success: function (data) {
                const myJsonString = JSON.stringify(data);
                const myArr = JSON.parse(myJsonString);
                //console.log(myArr);
                var code = "";
                for (var i = 0; i < myArr["data"].length; i += 1) {
                    if (tipe == "PULSA") {
                        //console.log(tipe);
                        if (myArr["data"][i]["Category"] == "Airtime") {
                            code = myArr["data"][i]["Desc"];

                            if (code.toUpperCase().indexOf(provider) == 0) {
                                b = b + " <div class='col-4 col-sm-4' style='margin-top:5px;'    > ";
                                b = b + "     <div onclick=\"pilihPaket(event,'" + myArr["data"][i]["Name"] + "','" + myArr["data"][i]["Code"] + "','" + myArr["data"][i]["Desc"] + "', ";
                                b = b + "     '" + myArr["data"][i]["Nominal"] + "','" + myArr["data"][i]["Price"] + "','" + myArr["data"][i]["Fee"] + "','" + myArr["data"][i]["Category"] + "','PULSA')\" class='navlink p-2 text-center' style='box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;cursor: pointer;'> ";
                                b = b + "         <span class='font-weight-bold ' style='font-size:20px'>" + myArr["data"][i]["Name"] + "</span><br> ";
                                b = b + "         <span class='font-weight-bold ' style='font-size:20px'>" + parseInt(myArr["data"][i]["Nominal"]).toLocaleString() + "</span><br> ";
                                b = b + "             <span class='font-weight-bold text-center ' style='font-size:15px;'> " + parseInt(myArr["data"][i]["Price"]).toLocaleString() + "</span> ";
                                b = b + "             <br> ";
                                b = b + "             </div> ";
                                b = b + "      </div> ";
                            }
                        }
                    } else if (tipe == "PAKETDATA") {
                        //console.log(tipe);
                        if (myArr["data"][i]["Category"] == "DataPackage") {
                            code = myArr["data"][i]["Desc"];
                            if (code.toUpperCase().indexOf(provider) == 0) {
                                b = b + " <div class='col-4 col-sm-4 ' style='margin-top:5px;'    > ";
                                b = b + "     <div onclick=\"pilihPaket(event,'" + myArr["data"][i]["Name"] + "','" + myArr["data"][i]["Code"] + "','" + myArr["data"][i]["Desc"] + "', ";
                                b = b + "     '" + myArr["data"][i]["Nominal"] + "','" + myArr["data"][i]["Price"] + "','" + myArr["data"][i]["Fee"] + "','" + myArr["data"][i]["Category"] + "','PAKET_DATA')\" class='navlink p-2 text-center' style='box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;cursor: pointer;'> ";
                                b = b + "         <span class='font-weight-bold ' style='font-size:20px'>" + myArr["data"][i]["Name"] + "</span><br> ";
                                b = b + "         <span class='font-weight-bold ' style='font-size:20px'>" + parseInt(myArr["data"][i]["Nominal"]).toLocaleString() + "</span><br> ";
                                b = b + "             <span class='font-weight-bold text-center ' style='font-size:15px;'> " + parseInt(myArr["data"][i]["Price"]).toLocaleString() + "</span> ";
                                b = b + "             <br> ";
                                b = b + "             </div> ";
                                b = b + "      </div> ";
                            }
                        }
                    }

                }
                $("#biilerInq").html(b);
            }
        });

    }

    function kasProBillerInqueryOther(tipe, access_token, hmacSecret, hmacKey) {
        var provider = $("#modalOtherProvider").val();
        var providerValue = "";
        if (provider == null) {
            alert("Tolong Pilih Layanan Terlebih Dahulu");
            return;
        }
        if (tipe == "000001" || tipe == "000002" || tipe == "PDAM") {

        } else {
            providerValue = $("#modalOtherValue").val();
            if (providerValue == null) {
                alert("Tolong Pilih Transaksi Terlebih Dahulu");
                return;
            }

        }

        var url = "/biller-inquiry/";
        var dateRequest = new Date().toUTCString();
        var signatureContentString = "(request-target): post " + url + "\n";
        signatureContentString = signatureContentString + "date: " + dateRequest;
        var hash = CryptoJS.HmacSHA256(signatureContentString, hmacSecret);
        var hashInBase64 = CryptoJS.enc.Base64.stringify(hash);
        var hashInBase64UrlEncoded = encodeURIComponent(hashInBase64);
        var signature = 'Signature keyId="' + hmacKey + '",algorithm="hmac-sha256",headers="(request-target) date",signature="' + hashInBase64UrlEncoded + '"';

        var b = "";
        tipeNm = "PPOB PDAM";
        $("#modalOtherTitle").text(tipeNm);

        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/kaspro',
            type: 'POST',
            data: {
                "cmd": "billerInquery",
                "Authorization": access_token,
                "signature": signature,
                "date": dateRequest,
                "tipe": tipe,
                "requestId": "MTAP_02032022001999133",
                "productCode": providerValue,
                "account": $("#modalOtherNomor").val()

            }, dataType: 'json',
            success: function (data) {
                const myJsonString = JSON.stringify(data);
                const myArr = JSON.parse(myJsonString);
                //console.log(myArr);
                if (tipe == "PDAM") {
                    var code = "";
                    var x = document.getElementById("modalOtherValue");
                    for (var i = 0; i < myArr["data"].length; i += 1) {
                        //console.log(tipe);
                        code = myArr["data"][i]["Desc"];
                        if (code.toUpperCase().indexOf(provider) == 0) {
                            var option = document.createElement("option");
                            option.text = myArr["data"][i]["Desc"];
                            option.value = myArr["data"][i]["Code"];
                            x.add(option, x[i]);
                        }
                    }
                    $("#biilerInqOther").html(b);
                } else if (tipe == "PDAM_DETAIL") {
                    $("#modalOtherKodeBayar").val(myArr["data"]["productCode"]);
                    $("#modalOtherName").val(myArr["data"]["params"][2]["Value"]);
                    $("#modalOtherTagihan").val(myArr["data"]["price"]);
                    $("#modalOtherPrice").val(myArr["data"]["price"]);
                    $("#modalOtherAdminFee").val(myArr["data"]["serviceFee"]);

                }
            }
        });
    }





    function cekNomor() {
        var nomor = $("#modalPPOBNomor").val();
        if (nomor.length > 3) {
            //console.log(nomor.substring(0, 4));
            if (nomor.substring(0, 4) == "0856" || nomor.substring(0, 4) == "0857") {
                $("#modalPPOBProvider").val("INDOSAT");
                $('#imageNomor').attr("src", "/template/files/assets/images/product/indosat.png");
                $("#imageNomor").css("display", "block");

            } else if (nomor.substring(0, 4) == "0812" || nomor.substring(0, 4) == "0811" || nomor.substring(0, 4) == "0813") {
                $("#modalPPOBProvider").val("SIMPATI");
                $('#imageNomor').attr("src", "/template/files/assets/images/product/simpati.png");
                $("#imageNomor").css("display", "block");
            } else if (nomor.substring(0, 4) == "0877" || nomor.substring(0, 4) == "0817" || nomor.substring(0, 4) == "0878") {
                $("#modalPPOBProvider").val("XL");
                $('#imageNomor').attr("src", "/template/files/assets/images/product/xl.png");
                $("#imageNomor").css("display", "block");
            } else if (nomor.substring(0, 4) == "0895" || nomor.substring(0, 4) == "0896" || nomor.substring(0, 4) == "0897") {
                $("#modalPPOBProvider").val("THREE");
                $('#imageNomor').attr("src", "/template/files/assets/images/product/tree.png");
                $("#imageNomor").css("display", "block");
            } else if (nomor.substring(0, 4) == "0838" || nomor.substring(0, 4) == "0831") {
                $("#modalPPOBProvider").val("AXIS");
                $('#imageNomor').attr("src", "/template/files/assets/images/product/axis.png");
                $("#imageNomor").css("display", "block");
            } else {
                $("#imageNomor").css("display", "none");
                $("#modalPPOBProvider").val("");
            }
        } else {
            $("#imageNomor").css("display", "none");
            $("#modalPPOBProvider").val("");
        }

    }




    function pilihPaket(evt, Name, Code, Desc, Nominal, Price, Fee, Category, tipeTransaksi) {
        var tablinks;
        tablinks = document.getElementsByClassName("navlink");
        for (i = 0; i < tablinks.length; i++) {
            //console.log("ww " + i);
            tablinks[i].className = tablinks[i].className.replace(" bg-success", "");
        }
        var Account = $("#modalPPOBNomor").val();
        valPpob = {
            "Name": Name,
            "Code": Code,
            "Desc": Desc,
            "Nominal": Nominal,
            "Price": Price,
            "Fee": Fee,
            "Category": Category,
            "tipeTransaksi": tipeTransaksi,
            "Account": Account
        };

        $("#modalPPOBKodeBayar").val(Code);
        $("#modalPPOBPrice").val(Price);
        $("#modalPPOBTitle").val(Desc);
        $("#modalPPOBTipeTransaksi").val(tipeTransaksi);
        evt.currentTarget.className += " bg-success";

    }

    function toMoney() {
        if ($("#modalTranJumlahUang").val() == "") {

        } else {
            var belanja = $("#totalBelanja").text();
            var jumlahBelanja = $("#modalTranJumlahUang").val();
            belanja = belanja.replace("Rp ", ""); belanja = belanja.replace(",", ""); belanja = belanja.replace(".", "")
            jumlahBelanja = jumlahBelanja.replace("Rp ", ""); jumlahBelanja = jumlahBelanja.replace(",", ""); jumlahBelanja = jumlahBelanja.replace(".", "");

            var a = 0;
            a = parseInt(jumlahBelanja) - parseInt(belanja);

            $("#kembalian").text("Rp " + parseInt(a).toLocaleString());
            $("#kembalianVal").val(a);

            $("#totalBayar").text("Rp " + parseInt($("#modalTranJumlahUang").val()).toLocaleString());
        }
    }

    function toMoney2() {

        if ($("#modalPPOBPrice").val() == "") {
            alert("Pilih Paket Data / Jumlah Pulsa Terlebih Dahulu !");
            $("#modalPPOBJumlahUang").val("");
        } else {
            if ($("#modalPPOBJumlahUang").val() == "") {
                console.log("No Value ");
            } else {
                //console.log("gg " + "xx");
                var belanja = $("#modalPPOBPrice").val();
                var jumlahBelanja = $("#modalPPOBJumlahUang").val();
                belanja = belanja.replace("Rp ", ""); belanja = belanja.replace(",", ""); belanja = belanja.replace(".", "")
                jumlahBelanja = jumlahBelanja.replace("Rp ", ""); jumlahBelanja = jumlahBelanja.replace(",", ""); jumlahBelanja = jumlahBelanja.replace(".", "");
                //console.log("gg " + "vv" + jumlahBelanja);
                var a = 0;
                a = parseInt(jumlahBelanja) - parseInt(belanja);

                $("#modalPPOBKembalian").text("Rp " + parseInt(a).toLocaleString());
                $("#modalPPOBKembalianVal").val(a);

                $("#modalPPOBTotalBelanja").text("Rp " + parseInt($("#modalPPOBPrice").val()).toLocaleString());
                $("#modalPPOBTotalBelanjaVal").val($("#modalPPOBPrice").val());

                $("#modalPPOBTotalBayar").text("Rp " + parseInt($("#modalPPOBJumlahUang").val()).toLocaleString());
                $("#modalPPOBTotalItemBayar").text(" 1 ");
                $("#modalPPOBTotalItemBayarVal").val("1");
            }

        }
    }


    function toMoney3() {

        if ($("#modalOtherTagihan").val() == "") {
            alert("Pilih Paket Data / Jumlah Pulsa Terlebih Dahulu !");
            $("#modalOtherJumlahUang").val("");
        } else {
            if ($("#modalOtherJumlahUang").val() == "") {
                console.log("No Value ");
            } else {
                //console.log("gg " + "xx");
                var belanja = $("#modalOtherTagihan").val();
                var jumlahBelanja = $("#modalOtherJumlahUang").val();
                belanja = belanja.replace("Rp ", ""); belanja = belanja.replace(",", ""); belanja = belanja.replace(".", "")
                jumlahBelanja = jumlahBelanja.replace("Rp ", ""); jumlahBelanja = jumlahBelanja.replace(",", ""); jumlahBelanja = jumlahBelanja.replace(".", "");
                //console.log("gg " + "vv" + jumlahBelanja);
                var a = 0;
                a = parseInt(jumlahBelanja) - parseInt(belanja);

                $("#modalOtherKembalian").text("Rp " + parseInt(a).toLocaleString());
                $("#modalOtherKembalianVal").val(a);

                $("#modalOtherTotalBelanja").text("Rp " + parseInt($("#modalOtherPrice").val()).toLocaleString());
                $("#modalOtherTotalBelanjaVal").text($("#modalOtherPrice").val());

                $("#modalOtherTotalBayar").text("Rp " + parseInt($("#modalOtherJumlahUang").val()).toLocaleString());
                $("#modalOtherTotalItemBayar").text(" 1 ");
                $("#modalOtherTotalItemBayarVal").val("1");


            }

        }
    }


    function printStruck() {
        var newWin = window.frames["printf"];
        newWin.document.body.innerHTML = '';
        newWin.document.write(struk);
        newWin.focus();
        newWin.print();
    }

    function formatStrukTglLunas(param) {
        let text = param;
        let year = text.substring(0, 4);
        let mth = text.substring(4, 6);
        let day = text.substring(6, 8);
        let hh = text.substring(8, 10);
        let mm = text.substring(10, 12);
        let ss = text.substring(12, 14);
        return year + "-" + mth + "-" + day + " " + hh + ":" + mm + ":" + ss;
    }
    function formatStrukBlTh(param) {
        let text = param;
        let year = text.substring(0, 4);
        let mth = text.substring(4, 6);

        let year1 = text.substring(6, 10);
        let mth1 = text.substring(10, 12);

        return formatStrukBl(mth) + " " + year + " - " + formatStrukBl(mth1) + " " + year1;
    }

    function formatStrukBl(param) {
        let result = "";
        if (param == "01") {
            result = "JAN";
        } else if (param == "02") {
            result = "FEB";
        } else if (param == "03") {
            result = "MAR";
        } else if (param == "04") {
            result = "APR";
        } else if (param == "05") {
            result = "MEI";
        } else if (param == "06") {
            result = "JUN";
        } else if (param == "07") {
            result = "JUL";
        } else if (param == "08") {
            result = "AGU";
        } else if (param == "09") {
            result = "SEP";
        } else if (param == "10") {
            result = "OKT";
        } else if (param == "11") {
            result = "NOV";
        } else if (param == "12") {
            result = "DES";
        }

        return result;
    }

    function printStruckPPOBMulti(idx) {
        //salert("oke");
        if ($("#modalMultiFelloTipeLayanan").val() == "06") {

            struk = " <body onload='window.print()'> ";
            struk = struk + " <div class='ticket' > Contoh Pulsa ";
            struk = struk + "     <table border='1' width='100%'> ";
            struk = struk + "     <tr><td colspan='2'>Waktu Lunas : " + idx.substring(94, 108) + "</td></tr> ";
            struk = struk + "     <tr><td colspan='2'>Voucher Nominal : " + idx.substring(18, 30) + "</td></tr> ";
            struk = struk + "     <tr><td colspan='2'>Nomor Telpon : " + idx.substring(4, 8) + idx.substring(8, 18) + "</td></tr> ";
            struk = struk + "     <tr><td colspan='2'>JPA REF : " + idx.substring(62, 94) + "</td></tr> ";
            struk = struk + "     <tr><td colspan='2'>Serial Number : " + idx.substring(46, 62) + "</td></tr> ";
            struk = struk + "     <tr><td colspan='2' style='text-align:center' >BUKTI PEMBAYARAN PEMBELIAN PULSA</td></tr> ";
            struk = struk + "     <tr><td>1</td><td  >	&nbsp;</td></tr> ";
            struk = struk + "     </td></tr> ";
            struk = struk + "     <tr><td>3</td><td  style='text-align:center' >TERIMA KASIH</td></tr> ";
            struk = struk + "     </table> ";
            struk = struk + " </div> ";
            struk = struk + "</body>  ";
        } else if ($("#modalMultiFelloTipeLayanan").val() == "07") {
            //alert(idx);
            struk = " <body onload='window.print()'> "; //PDAM ada 3 Struk
            struk = struk + " <div class='ticket' > ";

            struk = struk + " <table border='1' width='100%'> ";
            struk = struk + " <tr><td colspan='2'>Loket</td></tr> ";
            struk = struk + " <tr><td colspan='2' style='text-align:center;'>BUKTI PEMBAYARAN TAGIHAN PDAM</td></tr> ";
            struk = struk + " <tr><td colspan='2' >&nbsp;</td></tr> ";
            struk = struk + " <tr><td>1</td><td>NOREK : " + idx.substring(0, 15) + " </td></tr> ";
            struk = struk + " <tr><td>2</td><td>BLN/TH :  " + formatStrukBlTh(idx.substring(15, 27)) + "  </td></tr> ";
            struk = struk + " <tr><td>3</td><td>NAMA :  " + idx.substring(27, 57) + "</td></tr> ";

            var loop1 = 0;
            for (let i = 1; i < parseInt(idx.substring(57, 59)) + 1; i++) {
                if (i > 1) {
                    loop1 = loop1 + 43;
                }
            }
            struk = struk + " <tr><td>4</td><td>TGL LUNAS : " + formatStrukTglLunas(idx.substring(171 + loop1, 185 + loop1)) + " </td></tr> ";
            struk = struk + " <tr><td>5</td><td>RP TAG : Rp. " + parseInt(idx.substring(108, 120)).toLocaleString() + "</td></tr> ";
            struk = struk + " <tr><td>6</td><td>JPA REF :  " + idx.substring(76, 108) + "</td></tr> ";
            struk = struk + " <tr><td>7</td><td>&nbsp;</td></tr> ";
            struk = struk + " <tr><td>8</td><td style='text-align:center;' >PDAM menyatakan struk ini sebagai bukti pembayaran yang sah, mohon disimpan</td></tr> ";
            struk = struk + " <tr><td>9</td><td>&nbsp;</td></tr> ";
            struk = struk + " <tr><td>10</td><td>BIAYA ADMIN : Rp. " + parseInt(idx.substring(120, 128)).toLocaleString() + "   </td></tr> "; // pilihan setting sendiri
            struk = struk + " <tr><td>11</td><td>TOTAL BAYAR : Rp. " + parseInt(parseInt(idx.substring(108, 120)) + parseInt(idx.substring(120, 128))).toLocaleString() + "</td></tr> ";
            struk = struk + " <tr><td>12</td><td>&nbsp;</td></tr> ";
            struk = struk + " </table> ";

            /*  Ini Format Bit 48 all Field
            struk = struk + "     <table border='1' width='100%'> ";
            struk = struk + "     <tr><td colspan='2' style='text-align:center' >BUKTI PEMBAYARAN TAGIHAN PDAM</td></tr> ";
            struk = struk + "     <tr><td colspan='2'>&nbsp;</td></tr> ";
            struk = struk + "     <tr><td>1</td><td>ID Pelanggan : " + idx.substring(0, 15) + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>BLTH : " + idx.substring(16, 27) + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Costumer Name : " + idx.substring(27, 57) + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Bill Count : " + parseInt(idx.substring(57, 59)).toLocaleString() + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Bill Repeat Count : " + parseInt(idx.substring(59, 61)).toLocaleString() + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>No. Referensi Biller : " + idx.substring(61, 76) + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>No. Referensi Switching: " + idx.substring(76, 108) + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Rupiah Tagihan : " + parseInt(idx.substring(108, 120)).toLocaleString() + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Biaya Admin : " + parseInt(idx.substring(120, 128)).toLocaleString() + " </td></tr> ";

            var loop1 = 0;
            for (let i = 1; i < parseInt(idx.substring(57, 59)) + 1; i++) {

                struk = struk + "   <tr><td>1</td><td>Bill Date #" + i + " : " + idx.substring(128 + loop1, 134 + loop1) + "</td></tr> ";
                struk = struk + "   <tr><td>1</td><td>Bill Amount #" + i + " : " + parseInt(idx.substring(134 + loop1, 146 + loop1)).toLocaleString() + "</td></tr> ";
                struk = struk + "   <tr><td>1</td><td>Penalty #" + i + " : " + idx.substring(146 + loop1, 154 + loop1) + "</td></tr> ";
                struk = struk + "   <tr><td>1</td><td>Kubikasi #" + i + " : " + idx.substring(154 + loop1, 171 + loop1) + "</td></tr> ";
                if (i > 1) {
                    loop1 = loop1 + 43;
                }
            }
            struk = struk + "     <tr><td>1</td><td>Waktu lunas : " + idx.substring(171 + loop1, 185 + loop1) + " </td></tr> "; //14
            struk = struk + "     <tr><td>1</td><td>&nbsp;</td></tr> ";
            struk = struk + "     <tr><td>2</td><td style='text-align:center' > PDAM menyatakan struk ini sebagai bukti pembayaran yang sah, mohon disimpan.</td> ";
            struk = struk + "     </td></tr> ";
            struk = struk + "     <tr><td>3</td><td style='text-align:center' >TERIMA KASIH</td></tr> ";
            struk = struk + "     </table> ";
            */
            struk = struk + " </div> ";
            struk = struk + "</body>  ";


        } else if ($("#modalMultiFelloTipeLayanan").val() == "17") {
            alert("17");
            struk = " <body onload='window.print()'> "; //
            struk = struk + " <div class='ticket' > Contoh PDAM SPEK 1";

            struk = struk + "<table border='1' width='100%'> ";
            struk = struk + "    <tr><td colspan='3'>Loket</td></tr> ";
            struk = struk + "    <tr><td colspan='3' style='text-align:center;'>BUKTI TAGIHAN PEMBAYARAN PDAM (NAMA PDAM/DINAMIS)</td></tr> ";
            struk = struk + "    <tr><td colspan='3' >&nbsp;</td></tr> ";
            struk = struk + "    <tr><td>1</td><td>NO PELANGGAN : 000000000000 </td><td>BLN/THN : YYYYMM-YYYYMM</td></tr> ";
            struk = struk + "    <tr><td>2</td><td>NAMA : XXXXXXXXXXX </td><td>STAND METER : 0000000-0000000</td></tr> ";
            struk = struk + "    <tr><td>3</td><td>TGL LUNAS : YYYY-MM-DD HH:MM:SS  </td><td>PEMAKIAN : 0 LITER</td></tr> ";
            struk = struk + "    <tr><td>4</td><td>ALAMAT : XXXXXXXXXXX XXXXXXXXXXX </td><td>BILLER REFF : 000000000000</td></tr> ";
            struk = struk + "    <tr><td>5</td><td colspan='2' >TARIF : XXXXXXXXXXX</td></tr> ";
            struk = struk + "    <tr><td>6</td><td colspan='2' > JPA REF : AAAAAAAAAA000000000000</td></tr> ";
            struk = struk + "    <tr><td>7</td><td colspan='2' >&nbsp;</td></tr> ";
            struk = struk + "    <tr><td>8</td><td colspan='2' style='text-align:center;' >PDAM (NAMA PDAM/DINAMIS) Menyatakan struk ini sebagai bukti pembayaran yang sah,</td></tr> ";
            struk = struk + "    <tr><td>9</td><td colspan='2' style='text-align:center;' >Mohon di simpan.</td></tr> ";
            struk = struk + "    <tr><td>9</td><td colspan='2' >&nbsp;</td></tr> ";
            struk = struk + "    <tr><td>10</td><td colspan='2' >BIAYA ADMIN : Rp. 1.000</td></tr> ";
            struk = struk + "    <tr><td>10</td><td colspan='2' >DENDA : Rp. 1.000</td></tr> ";
            struk = struk + "    <tr><td>11</td><td colspan='2' >TOTAL BAYAR : Rp. 101.000</td></tr> ";
            struk = struk + "    <tr><td>12</td><td colspan='2' >&nbsp;</td></tr> ";
            struk = struk + "</table> ";


            /*
            struk = struk + "     <table border='1' width='100%'> ";
            struk = struk + "     <tr><td colspan='2' style='text-align:center' >BUKTI PEMBAYARAN TAGIHAN PDAM</td></tr> ";
            struk = struk + "     <tr><td colspan='2'>&nbsp;</td></tr> ";
            struk = struk + "     <tr><td>1</td><td>NO REK : " + idx.substring(0, 14) + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>RP TAG : " + idx.substring(108, 120) + "</td></tr> ";
            struk = struk + "     <tr><td>2</td><td>BLN/TH : " + idx.substring(15, 27) + " </td></tr> ";
            struk = struk + "     <tr><td>3</td><td>NAMA : " + idx.substring(27, 57) + "</td></tr> ";
            struk = struk + "     <tr><td>7</td><td>TANGGAL LUNAS : " + idx.substring(300, 314) + "</td></tr> ";
            struk = struk + "     <tr><td>9</td><td>JPA REF : " + idx.substring(76, 108) + "</td></tr> ";
            struk = struk + "     <tr><td>1</td><td>&nbsp;</td></tr> ";
            struk = struk + "     <tr><td>2</td><td style='text-align:center' > PDAM menyatakan struk ini sebagai bukti pembayaran yang sah, mohon disimpan.</td> ";
            struk = struk + "     <tr><td>8</td><td>BIAYA ADMIN : " + idx.substring(120, 128) + "</td></tr> ";
            struk = struk + "     <tr><td>9</td><td>TOTAL BAYAR : " + idx.substring(76, 108) + "</td></tr> ";
            struk = struk + "     </td></tr> ";
            struk = struk + "     <tr><td>3</td><td style='text-align:center' >TERIMA KASIH</td></tr> ";
            struk = struk + "     </table> ";
            */
            struk = struk + " </div> ";
            struk = struk + "</body>  ";
        } else if ($("#modalMultiFelloTipeLayanan").val() == "27") {
            struk = " <body onload='window.print()'> "; //
            struk = struk + " <div class='ticket' > Contoh PDAM PDAM SPEK 2";

            var loop1 = 0;
            var blth = "";
            var meter_awal = "";
            var meter_akhir = "";
            var pemakaian = 0;
            var denda = 0;
            for (let i = 1; i < parseInt(idx.substring(361, 362)) + 1; i++) {
                if (i > 1) {
                    loop1 = loop1 + 166;
                }
                blth = idx.substring(362 + loop1, 368 + loop1);
                meter_awal = idx.substring(368 + loop1, 380 + loop1);
                meter_akhir = idx.substring(380 + loop1, 392 + loop1);
                pemakaian = pemakaian + parseInt(idx.substring(400 + loop1, 408 + loop1))
                denda = denda + parseInt(idx.substring(482 + loop1, 492 + loop1))
                //struk = struk + "   <tr><td>1</td><td>BLTH  #" + i + " : " + idx.substring(362 + loop1, 368 + loop1) + " awal-end </td></tr> ";//BLN/THN
                //struk = struk + "   <tr><td>1</td><td> METER AWAL #" + i + " : " + idx.substring(368 + loop1, 380 + loop1) + " 12 Meter Pemakaian awal air </td></tr> ";//meter awal di tagihan pertama
                //struk = struk + "   <tr><td>1</td><td> METER AKHIR #" + i + " : " + idx.substring(380 + loop1, 392 + loop1) + " 12 Meter Pemakaian akhir air </td></tr> ";//meter akhir di tagihan pertama
                //struk = struk + "   <tr><td>1</td><td> PEMAKAIAN #" + i + " : " + idx.substring(400 + loop1, 408 + loop1) + " 08 Meter akhir - Meter awal </td></tr> ";//di summary
                //struk = struk + "   <tr><td>1</td><td> DENDA #" + i + " : " + idx.substring(482 + loop1, 492 + loop1) + " 10 2 digit terakhir adalah desimal </td></tr> ";
            }

            struk = struk + "<table border='1' width='100%'> ";
            struk = struk + "    <tr><td colspan='3'>Loket</td></tr> ";
            struk = struk + "    <tr><td colspan='3' style='text-align:center;'>BUKTI TAGIHAN PEMBAYARAN PDAM " + idx.substring(20, 50) + " </td></tr> ";
            struk = struk + "    <tr><td colspan='3' >&nbsp;</td></tr> ";
            struk = struk + "    <tr><td>1</td><td>NO PELANGGAN : " + idx.substring(0, 20) + " </td><td>BLN/THN : " + blth + "-" + blth + "</td></tr> ";
            struk = struk + "    <tr><td>2</td><td>NAMA : " + idx.substring(50, 80) + " </td><td>STAND METER : " + meter_awal + "-" + meter_akhir + "</td></tr> ";
            struk = struk + "    <tr><td>3</td><td>TGL LUNAS :  " + formatStrukTglLunas(idx.substring(528 + loop1, 542 + loop1)) + "  </td><td>PEMAKIAN : " + pemakaian + " LITER</td></tr> ";
            struk = struk + "    <tr><td>4</td><td>ALAMAT : " + idx.substring(80, 125) + " </td><td></td></tr> ";
            struk = struk + "    <tr><td>5</td><td colspan='2' >TARIF : " + parseInt(idx.substring(335, 349)).toLocaleString() + "</td></tr> ";
            struk = struk + "    <tr><td>6</td><td colspan='2' > JPA REF : " + idx.substring(303, 335) + "</td></tr> ";
            struk = struk + "    <tr><td>7</td><td colspan='2' >&nbsp;</td></tr> ";
            struk = struk + "    <tr><td>8</td><td colspan='2' style='text-align:center;' >PDAM " + idx.substring(20, 50) + " Menyatakan struk ini sebagai bukti pembayaran yang sah,</td></tr> ";
            struk = struk + "    <tr><td>9</td><td colspan='2' style='text-align:center;' >Mohon di simpan.</td></tr> ";
            struk = struk + "    <tr><td>9</td><td colspan='2' >&nbsp;</td></tr> ";
            struk = struk + "    <tr><td>10</td><td colspan='2' >BIAYA ADMIN : Rp. " + parseInt(idx.substring(349, 359)).toLocaleString() + "</td></tr> "; // Di setting Arneva
            struk = struk + "    <tr><td>10</td><td colspan='2' >DENDA : Rp. " + parseInt(denda).toLocaleString() + "</td></tr> ";
            struk = struk + "    <tr><td>11</td><td colspan='2' >TOTAL BAYAR : Rp. " + parseInt(parseInt(idx.substring(335, 349)) + parseInt("1000") + parseInt(denda)).toLocaleString() + "</td></tr> ";
            struk = struk + "    <tr><td>12</td><td colspan='2' >&nbsp;</td></tr> ";
            struk = struk + "</table> ";





            /*
            struk = struk + "     <table border='1' width='100%'> ";
            struk = struk + "     <tr><td colspan='2' style='text-align:center' >BUKTI TAGIHAN PEMBAYARAN PDAM " + idx.substring(20, 50) + "</td></tr> ";
            struk = struk + "     <tr><td colspan='2'>&nbsp;</td></tr> ";
            struk = struk + "     <tr><td>1</td><td>IDPEL : " + idx.substring(0, 20) + " </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>NAMA PDAM : " + idx.substring(20, 50) + " 30 Nama PDAM (dikirim dari biller)  </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>NAMA PELANGGAN : " + idx.substring(50, 80) + " 30 Nama Pelanggan pengguna PDAM </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>ALAMAT : " + idx.substring(80, 125) + " 45 Alamat Pelanggan pengguna PDAM </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>GOLONGAN  PELANGGAN : " + idx.substring(125, 145) + " 20 Golongan Pelanggan pengguna PDAM </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Tipe Pelanggan : " + idx.substring(145, 175) + " 30 Tipe Pelanggan pengguna PDAM </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Field Cadangan1 : " + idx.substring(175, 207) + " 32 saat ini belum digunakan </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Field Cadangan2 : " + idx.substring(207, 239) + " 32 saat ini belum digunakan </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Field Cadangan3 : " + idx.substring(239, 271) + " 32 saat ini belum digunakan </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Biller REFF : " + idx.substring(271, 303) + " 32 No refferensi pembayaran biller </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>JPA REFF : " + idx.substring(303, 335) + " 32 No refferensi pembayaran dari JPA </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>GRAND TOTAL : " + idx.substring(335, 349) + " 14 2 digit terakhir adalah desimal  </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Admin : " + idx.substring(349, 359) + " 10 2 digit terakhir adalah desimal </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Jumlah Tunggakan : " + idx.substring(359, 361) + " 02 Jumlah tunggakan pembayaran PDAM (jumlah tagihan - 1) </td></tr> ";
            struk = struk + "     <tr><td>1</td><td>Jumlah Tagihan : " + idx.substring(361, 362) + " 01 Jumlah tagihan pembayaran PDAM </td></tr> ";

            var loop1 = 0;
            for (let i = 1; i < parseInt(idx.substring(361, 362)) + 1; i++) {
                if (i > 1) {
                    loop1 = loop1 + 166;
                }
                struk = struk + "   <tr><td>1</td><td>BLTH  #" + i + " : " + idx.substring(362 + loop1, 368 + loop1) + " 06 yyyyMM.BLTH tagihan </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> METER AWAL #" + i + " : " + idx.substring(368 + loop1, 380 + loop1) + " 12 Meter Pemakaian awal air </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> METER AKHIR #" + i + " : " + idx.substring(380 + loop1, 392 + loop1) + " 12 Meter Pemakaian akhir air </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> GMA #" + i + " : " + idx.substring(392 + loop1, 400 + loop1) + " 08 </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> PEMAKAIAN #" + i + " : " + idx.substring(400 + loop1, 408 + loop1) + " 08 Meter akhir - Meter awal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> RPTAG #" + i + " : " + idx.substring(408 + loop1, 422 + loop1) + " 14 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> ADMIN #" + i + " : " + idx.substring(422 + loop1, 432 + loop1) + " 10 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> MATERAI #" + i + " : " + idx.substring(432 + loop1, 442 + loop1) + " 10 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> LIMBAH #" + i + " : " + idx.substring(442 + loop1, 452 + loop1) + " 10 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> RESTRIBUSI #" + i + " : " + idx.substring(452 + loop1, 462 + loop1) + " 10 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> Jasa Pemeliharaan #" + i + " : " + idx.substring(462 + loop1, 472 + loop1) + " 10 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> Jasa ADM #" + i + " : " + idx.substring(472 + loop1, 482 + loop1) + " 10 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> DENDA #" + i + " : " + idx.substring(482 + loop1, 492 + loop1) + " 10 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> Biaya Lainnya 1 #" + i + " : " + idx.substring(492 + loop1, 504 + loop1) + " 12 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> Biaya Lainnya 2 #" + i + " : " + idx.substring(504 + loop1, 516 + loop1) + " 12 2 digit terakhir adalah desimal </td></tr> ";
                struk = struk + "   <tr><td>1</td><td> Biaya Lainnya 3 #" + i + " : " + idx.substring(516 + loop1, 528 + loop1) + " 12 2 digit terakhir adalah desimal </td></tr> ";
            }
            struk = struk + "     <tr><td>1</td><td> Waktu lunas : " + formatStrukTglLunas(idx.substring(528 + loop1, 542 + loop1)) + " 14 Waktu Pelunasan Transaksi </td></tr> ";
            struk = struk + "     </table> ";
            */
            struk = struk + " </div> ";
            struk = struk + "</body>  ";
        }
        var newWin = window.frames["printf"];
        newWin.document.body.innerHTML = '';
        newWin.document.write(struk);
        newWin.focus();
        newWin.print();
    }

    function printStruckPln(idx, data) {
        //salert("oke");
        //console.log(data);
        if (idx == "4") {
            //PLN POSTPAID
            struk = " <body onload='window.print()'> ";
            struk = struk + "            <div> ";
            struk = struk + "     STRUK PEMBAYARAN TAGIHAN LISTRIK <br>";//
            struk = struk + "     ID Pelanggan : " + data.substring(0, 12) + " <br>";//12 Id pelanggan, padding 0 rata kiri. 542100528616
            struk = struk + "     Jumlah Tagihan : " + data.substring(12, 13) + " <br>";//1 Jumlah tagihan yang bisa dibayarkan dalam satu 4 siklus (dibatasi hingga 4 tunggakan oleh PLN)
            struk = struk + "     Jumlah Payment : " + data.substring(13, 14) + " <br>";//1 Jumlah payment yang dilakukan (harus sama 4 dengan jumlah tagihan)
            struk = struk + "     Jumlah Tunggakan : " + data.substring(14, 16) + " <br>";//2 Jumlah sisa tunggakan yang belum dibayarkan 01
            struk = struk + "     Trx id : " + data.substring(16, 48) + " <br>";//32 Trx id
            struk = struk + "     JPA NO. REF : " + data.substring(48, 80) + " <br>";//32 Nomor Referensi dari JPA
            struk = struk + "     Nama : " + data.substring(80, 105) + " <br>";//25 Nama pelanggan, padding spasi rata kanan NANANG
            struk = struk + "     Unit servis : " + data.substring(105, 110) + " <br>";//5 Unit servis
            struk = struk + "     No telp unit servis : " + data.substring(110, 125) + " <br>";//15 No telepon unit servis, padding spasi rata kanan
            struk = struk + "     Tarif : " + data.substring(125, 129) + " <br>";//4 Kode tarif pelanggan, padding spasi rata kanan
            struk = struk + "     Daya : " + data.substring(129, 138) + " <br>";//9 Nilai daya, padding 0 rata kiri
            struk = struk + "     Biaya admin : " + data.substring(138, 147) + " <br>";//9 Nilai biaya admin, padding 0 rata kiri

            var loop1 = 0;
            var loop2 = 0;
            for (let i = 1; i < parseInt(data.substring(12, 13)) + 1; i++) {

                //b = b + "   Bill Date #" + i + " : " + bit48.substring(81 + loop1, 87 + loop1) + "<br> ";
                struk = struk + "     BLTH # : " + data.substring(147 + loop1, 153 + loop1) + " <br>";//(* = Berulang 6 YYYYMM berdasarkan jumlah tagihan)
                struk = struk + "     Tanggal jatuh tempo * : " + data.substring(153 + loop1, 161 + loop1) + " <br>";//8 DDMMYYYY
                struk = struk + "     Tanggal Catat Meter * : " + data.substring(161 + loop1, 169 + loop1) + " <br>";//8 YYYYMMDD
                struk = struk + "     Biaya Tagihan PLN * : " + data.substring(169 + loop1, 181 + loop1) + " <br>";//12 Total tagihan dari PLN minus biaya admin (jika ada), padding 0 rata kiri
                struk = struk + "     Insentif * : " + data.substring(181 + loop1, 192 + loop1) + " <br>";//11 Insentif / desentif (x[n]), x = C/D , n = padding 0 C0000000000 rata kiri
                struk = struk + "     Biaya PPN * : " + data.substring(192 + loop1, 202 + loop1) + " <br>";//10 Nilai pajak inkaso, padding 0 rata kiri
                struk = struk + "     Biaya Keterlambatan * : " + data.substring(202 + loop1, 214 + loop1) + " <br>";//12 Nilai denda, padding 0 rata kiri
                struk = struk + "     LWBP sebelum * : " + data.substring(214 + loop1, 222 + loop1) + " <br>";//8 Padding 0 rata kiri
                struk = struk + "     LWBP sesudah * : " + data.substring(222 + loop1, 230 + loop1) + " <br>";//8 Padding 0 rata kiri
                struk = struk + "     WBP sebelum * : " + data.substring(230 + loop1, 238 + loop1) + " <br>";//8 Padding 0 rata kiri
                struk = struk + "     WBP sesudah * : " + data.substring(238 + loop1, 246 + loop1) + " <br>";//8 Padding 0 rata kiri
                struk = struk + "     KVARH sebelum * : " + data.substring(246 + loop1, 254 + loop1) + " <br>";//8 Padding 0 rata kiri
                struk = struk + "     KVARH sesudah * : " + data.substring(254 + loop1, 262 + loop1) + " <br>";//8 Padding 0 rata kiri
                loop1 = loop1 + 6;
                if (i > 1) {
                    loop2 = loop2 + loop1;
                }
            }
            console.log(loop1);
            console.log(loop2);
            struk = struk + "     Tanggal Lunas : " + data.substring(262 + loop2, 270 + loop2) + " <br>";//8 YYYYMMDD 20110808
            struk = struk + "     Jam Lunas : " + data.substring(270 + loop2, 276 + loop2) + " <br>";//6 hhmmss

            /*
            struk = struk + "            <table border='1' width='100%'> ";
            struk = struk + "                <tr><td colspan='2' style='text-align:center'>34643763478537346353453534</td></tr> ";
            struk = struk + "                <tr><td colspan='2' style='text-align:center' >STRUK PEMBAYARAN TAGIHAN LISTRIK</td></tr> ";
            struk = struk + "                <tr><td colspan='2'>&nbsp;</td></tr> ";
            struk = struk + "                <tr><td>1</td><td>IDIPEL : " + data.substring(0, 12) + "</td></tr> ";
            struk = struk + "                <tr><td>2</td><td  >NAMA : " + data.substring(80, 105) + "</td></tr> ";
            struk = struk + "                <tr><td>3</td><td  >TARIF/DAYA : " + data.substring(125, 128); +" / " + data.substring(129, 138) + "</td></tr> ";
            struk = struk + "                <tr><td>4</td><td  >BL/TH  : " + data.substring(147, 153) + "</td></tr> ";
            struk = struk + "                <tr><td>5</td><td  >STAND METER : " + data.substring(214, 222) + " - " + data.substring(223, 231) + "</td></tr> ";
            struk = struk + "                <tr><td>6</td><td  >RP TAG PLN :Rp  " + data.substring(168, 180) + "</td></tr> ";
            struk = struk + "                <tr><td>7</td><td  >NO REF : " + data.substring(48, 80) + "</td></tr> ";
            struk = struk + "                <tr><td>8</td><td  >&nbsp;</td></tr> ";
            struk = struk + "                <tr><td>8</td><td style='text-align:center' >PLN menyatakan struk ini sbg bukti</td></tr> ";
            struk = struk + "                <tr><td>8</td><td style='text-align:center' >pembayaran yang sah.</td></tr> ";
            struk = struk + "                <tr><td>8</td><td  >&nbsp;</td></tr> ";
            struk = struk + "                <tr><td>8</td><td  >ADMIN CA *) : Rp " + parseInt(data.substring(138, 147)).toLocaleString() + "</td></tr> ";
            struk = struk + "                <tr><td>9</td><td  >TOTAL BAYAR : Rp " + parseInt(parseInt(data.substring(169, 181)) + parseInt(data.substring(138, 147))).toLocaleString() + "</td></tr> ";
            struk = struk + "                <tr><td>1</td><td style='text-align:center' >Anda masih memiliki tunggakan .... bulan</td></tr> ";
            struk = struk + "                <tr><td>2</td><td  style='text-align:center' >Rincian tagihan dapat di akses www.pln.co.id</td></tr>  ";
            struk = struk + "                <tr><td>3</td><td colspan='2' style='text-align:center' >Informasi Hubungi Contact Center :123</td></tr>  ";
            struk = struk + "                <tr><td>3</td><td colspan='2' style='text-align:center' >Atau hubungi pln terdekat : 123</td></tr>  ";
            struk = struk + "            </table>  ";
            */
            struk = struk + "        </div>  ";
            struk = struk + "</body>  ";
        } else if (idx == "3") {
            //PLN PREPAID
            struk = " <body onload='window.print()'> ";
            struk = struk + " <div class='ticket' >  ";
            struk = struk + "     STRUK PEMBELIAN LISTRIK PREPAID <br>";//

            struk = struk + "     Switcher ID : " + data.substring(0, 7) + " <br>";// 7
            struk = struk + "     Meter Id : " + data.substring(7, 18) + " <br>";// 11 Left Justified. Padded with blankNilainya sama dengan request
            struk = struk + "     Idpel : " + data.substring(18, 30) + " <br>";// 12 Left Justified Id pelanggan
            struk = struk + "     Flag : " + data.substring(30, 31) + " <br>";// 1 Nilainya sama dengan request
            struk = struk + "     Trx id : " + data.substring(31, 63) + " <br>";// 32 Nilainya sama dengan request
            struk = struk + "     Jatelindo Reference Number : " + data.substring(63, 95) + " <br>";// 32 Nilai dari response ini yang  dijadikan acuan untuk refernce  number
            struk = struk + "     Vending receipt Number : " + data.substring(95, 103) + " <br>";// 8 Left Justified. Padded  with zero
            struk = struk + "     Nama Pelanggan : " + data.substring(103, 128) + " <br>";// 25 Right justified. Padded  with blank Nilainya sama dengan request
            struk = struk + "     Tarif : " + data.substring(128, 132) + " <br>";// 4 Nilainya sama dengan request
            struk = struk + "     Kategori Pengunaan  Daya : " + data.substring(132, 141) + " <br>";// 9 Nilainya sama dengan request
            struk = struk + "     Pilihan Pembelian : " + data.substring(141, 142) + " <br>";// 1 Nilainya sama dengan request
            struk = struk + "     Nilai Minor Biaya Admin : " + data.substring(142, 143) + " <br>";// 1
            struk = struk + "     Biaya Admin : " + data.substring(143, 153) + " <br>";// 10 Left Justified. Padded  with zero
            struk = struk + "     Nilai Minor Biaya  Materai : " + data.substring(153, 154) + " <br>";// 1
            struk = struk + "     Biaya Materai : " + data.substring(154, 164) + " <br>";// 10 Left Justified. Padded  with zero
            struk = struk + "     Nilai Minor Rupiah PPN : " + data.substring(164, 165) + " <br>";// 1
            struk = struk + "     Rupiah PPN : " + data.substring(165, 175) + " <br>";// 10 Left Justified. Padded  with zero
            struk = struk + "     Nilai Minor Rupiah PPJU : " + data.substring(175, 176) + " <br>";// 1
            struk = struk + "     Rupiah PPJU : " + data.substring(176, 186) + " <br>";// 10 Left Justified. Padded  with zero
            struk = struk + "     Nilai Minor Biaya Angsuran : " + data.substring(186, 187) + " <br>";// 1
            struk = struk + "     Rupiah Angsuran : " + data.substring(187, 197) + " <br>";// 10 Left Justified. Padded  with zero
            struk = struk + "     Nial Minor Pembelian  Listrik : " + data.substring(197, 198) + " <br>";// 1
            struk = struk + "     Pembelian Listrik : " + data.substring(198, 210) + " <br>";// 12 Left Justified. Padded  with zero
            struk = struk + "     Nilai Minor Pembelian KWH Unit : " + data.substring(210, 211) + " <br>";// 1
            struk = struk + "     Pembelian Jumlah KWH : " + data.substring(211, 221) + " <br>";// 10 Left Justified. Padded  with zero
            struk = struk + "     Token Number : " + data.substring(221, 241) + " <br>";// 20
            struk = struk + "     Tanggal Lunas : " + data.substring(241, 255) + " <br>";// 14 YYYYMMDDHHMISS
            /*
            struk = struk + " <table border='1' width='100%'>  ";
            struk = struk + "     <tr><td colspan='2' style='text-align:center'>34643763478537346353453534</td></tr>  ";
            struk = struk + "     <tr><td colspan='2' style='text-align:center' >STRUK PEMBELIAN LISTRIK PRABAYAR</td></tr>  ";
            struk = struk + "     <tr><td colspan='2'>&nbsp;</td></tr>  ";
            struk = struk + "     <tr><td>1</td><td>NO METER :  " + data.substring(7, 18) + "</td></tr>  ";
            struk = struk + "     <tr><td>1</td><td>IDIPEL :  " + data.substring(18, 30) + "</td></tr>  ";
            struk = struk + "     <tr><td>2</td><td  >NAMA : " + data.substring(103, 128) + "</td></tr>  ";
            struk = struk + "     <tr><td>3</td><td  >TARIF/DAYA : " + data.substring(128, 132) + " / " + data.substring(133, 141) + "</td></tr>  ";
            struk = struk + "     <tr><td>4</td><td  >NO REF  : " + data.substring(63, 94) + " </td></tr>  ";
            struk = struk + "     <tr><td>5</td><td  >RP BAYAR : " + parseInt(data.substring(165, 175)).toLocaleString() + " </td></tr>  ";
            struk = struk + "     <tr><td>6</td><td  >MATERAI :Rp " + parseInt(data.substring(154, 164)).toLocaleString() + "</td></tr>  ";
            struk = struk + "     <tr><td>7</td><td  >PPN : " + data.substring(165, 175) + "</td></tr>  ";
            struk = struk + "     <tr><td>7</td><td  >BPJT-TL : " + data.substring(176, 186) + "</td></tr>  ";
            struk = struk + "     <tr><td>7</td><td  >ANGSURAN : " + data.substring(187, 197) + " </td></tr>  ";
            struk = struk + "     <tr><td>7</td><td  >RP STROOM/TOKEN : " + data.substring(198, 210) + " </td></tr>  ";
            struk = struk + "     <tr><td>7</td><td  >JML KWH : " + data.substring(211, 220) + "</td></tr>  ";
            struk = struk + "     <tr><td>7</td><td  >STROOM/TOKEN : " + data.substring(221, 241) + " </td></tr>  ";
            struk = struk + "     <tr><td>8</td><td  >ADMIN CA *) : Rp " + data.substring(143, 153) + "</td></tr>  ";
            struk = struk + "     <tr><td>8</td><td  >&nbsp;</td></tr>  ";
            struk = struk + "     <tr><td>2</td><td  style='text-align:center' >Rincian tagihan dapat di akses www.pln.co.id </td></tr>  ";
            struk = struk + "     <tr><td>3</td><td colspan='2' style='text-align:center' >Informasi Hubungi Contact Center :123</td></tr>  ";
            struk = struk + "     <tr><td>3</td><td colspan='2' style='text-align:center' >Atau hubungi pln terdekat : 123</td></tr>  ";
            struk = struk + " </table>  ";
            */
            struk = struk + " </div> ";
            struk = struk + "</body>  ";
        } else if (idx == "5") {

            //PLN NONTAGLIS
            struk = " <body onload='window.print()'> ";
            struk = struk + " <div class='ticket' >  ";

            struk = struk + "     STRUK NON TAGIHAN LISTRIK <br>";//
            struk = struk + "     Nomer Registrasi : " + data.substring(0, 13) + " <br>";// 13 Left Justified. Padded with space
            struk = struk + "     Jenis transaksi : " + data.substring(13, 38) + " <br>";// 25 Left Justified. Padded with space
            struk = struk + "     Tanggal registrasi : " + data.substring(38, 46) + " <br>";//8 YYYYMMDD
            struk = struk + "     Batas akhir registrasi : " + data.substring(46, 54) + " <br>";// 8 DDMMYYYY
            struk = struk + "     Idpel : " + data.substring(54, 66) + " <br>";//12
            struk = struk + "     Nama pelanggan : " + data.substring(66, 91) + " <br>";//25 Left Justified.  Padded with space
            struk = struk + "     Trx id : " + data.substring(91, 123) + " <br>";//32
            struk = struk + "     JPA reference number : " + data.substring(123, 143) + " <br>";//20
            struk = struk + "     Total transaksi : " + data.substring(143, 160) + " <br>";//17 Right Justified.  Padded with zero 2 digit paling akhir  merupakan 2 angka  dibelakang koma
            struk = struk + "     Rp tagihan : " + data.substring(160, 177) + " <br>";//17 Right Justified.  Padded with zero 2 digit paling akhir  merupakan 2 angka  dibelakang koma
            struk = struk + "     Rp Admin : " + data.substring(177, 187) + " <br>";//10 Right Justified.  Padded with zero 2 digit paling akhir  merupakan 2 angka  dibelakang koma
            struk = struk + "     Tanggal lunas : " + data.substring(187, 195) + " <br>";//8 YYYYMMDD
            struk = struk + "     Jam lunas : " + data.substring(195, 201) + " <br>";// 6 hhmmss
            /*
            struk = struk + "             <table border='1' width='100%'>  ";
            struk = struk + "                 <tr><td colspan='2' style='text-align:center'>34643763478537346353453534</td></tr>  ";
            struk = struk + "                 <tr><td colspan='2' style='text-align:center' >STRUK NON TAGIHAN LISTRIK </td></tr>  ";
            struk = struk + "                 <tr><td colspan='2'>&nbsp;</td></tr>  ";
            struk = struk + "                 <tr><td>1</td><td>TRANSAKSI : " + data.substring(13, 37) + " </td></tr>  ";
            struk = struk + "                 <tr><td>1</td><td>NO REGISTRASI : " + data.substring(0, 12) + "</td></tr>  ";
            struk = struk + "                 <tr><td>2</td><td>TGL REGISTRASI : " + data.substring(37, 46) + "</td></tr>  ";
            struk = struk + "                 <tr><td>3</td><td>NAMA : " + data.substring(66, 91) + "</td></tr>  ";
            struk = struk + "                 <tr><td>4</td><td>IDPEL  : " + data.substring(54, 65) + "</td></tr>  ";
            struk = struk + "                 <tr><td>5</td><td>BIAYA PLN : RP " + data.substring(160, 177) + "</td></tr>  ";
            struk = struk + "                 <tr><td>6</td><td>NO REF : " + data.substring(123, 143) + "</td></tr>  ";
            struk = struk + "                 <tr><td>7</td><td>&nbsp;</td></tr>  ";
            struk = struk + "                 <tr><td>7</td><td style='text-align:center' >PLN menyatakan struk ini sebagai</td></tr>  ";
            struk = struk + "                 <tr><td>7</td><td style='text-align:center' >bukti pembayaran yang sah</td></tr>  ";
            struk = struk + "                 <tr><td>7</td><td>&nbsp;</td></tr>  ";
            struk = struk + "                 <tr><td>7</td><td>ADMIN CA**) : RP " + data.substring(178, 188) + "</td></tr>  ";
            struk = struk + "                 <tr><td>7</td><td>TOTAL BAYAR : RP " + parseInt(parseInt(data.substring(178, 143)) + parseInt(data.substring(178, 143))).toLocaleString() + "</td></tr>  ";
            struk = struk + "                 <tr><td>8</td><td>&nbsp;</td></tr>  ";
            struk = struk + "                 <tr><td>8</td><td>&nbsp;</td></tr>  ";
            struk = struk + "                 <tr><td>2</td><td>style='text-align:center' >Rincian tagihan dapat di akses www.pln.co.id </td></tr>  ";
            struk = struk + "                 <tr><td>3</td><td colspan='2' style='text-align:center' >Informasi Hubungi Contact Center :123</td></tr>  ";
            struk = struk + "                 <tr><td>3</td><td colspan='2' style='text-align:center' >Atau hubungi pln terdekat : 123</td></tr>  ";
            struk = struk + "             </table>  ";
            */
            struk = struk + " </div> ";
            struk = struk + "</body>  ";
        }
        var newWin = window.frames["printf"];
        newWin.document.body.innerHTML = '';
        newWin.document.write(struk);
        newWin.focus();
        newWin.print();
    }


    function getDetail(masterCode) {
        //alert("tab 2");
        swalStartLoading();
        $.post("https://api-rki.rkicoop.co.id/api/master/QueryMaster", {
            cmd: "selCodeDetail",
            kop_id: $("#login_kop_id").val(),
            masterCode: masterCode
        },
            function (data, status) {
                //alert("Data: " + data + "\nStatus: " + status);
                var c = 1;
                var b = "";
                const myArr = JSON.parse(data);
                if (myArr.length == 0) {
                    salert("Tidak Ada Data", 'warning', 'Warning');
                } else {

                    for (var i = 0; i < myArr.length; i += 1) {
                        b = b + "<tr    onmouseover=\"changeColor(this,'#tableResult2');\" onmouseout=\"backColor(this);\" >";
                        b = b + " <td>" + myArr[i]["masterCode"] + "</td> ";
                        b = b + " <td>" + myArr[i]["detailCode"] + "</td> ";
                        b = b + " <td>" + myArr[i]["detailName"] + "</td> ";
                        b = b + " <td>" + myArr[i]["detailName2"] + "</td> ";
                        b = b + " <td>" + myArr[i]["detailDesc"] + "</td> ";
                        b = b + " <td>" + myArr[i]["detailIdx"] + "</td> ";
                        b = b + " <td>" + myArr[i]["useYn"] + "</td> ";
                        b = b + " <td>" + myArr[i]["detailKop"] + "</td> ";
                        b = b + " <td>" + myArr[i]["nama_koperasi"] + "</td> ";
                        if (myArr[i]["deleteYn"] == "Y") {
                            b = b + " <td>" + "<button onclick=\"_deleteRow('" + myArr[i]["deleteYn"] + "','" + myArr[i]["masterCode"] + "','" + myArr[i]["detailCode"] + "','" + myArr[i]["detailKop"] + "')\"   title='DELETE' class='btn btn-danger btn-icon btn_grid'><i style='font-size:20px;margin-right:0 !important;' class='fa fa-trash'></i></button></td> ";
                        } else {
                            b = b + " <td>" + "<button onclick=\"_deleteRow('" + myArr[i]["deleteYn"] + "','" + myArr[i]["masterCode"] + "','" + myArr[i]["detailCode"] + "','" + myArr[i]["detailKop"] + "')\"   title='DELETE' class='btn btn-secondary btn-icon btn_grid'><i style='font-size:20px;margin-right:0 !important;' class='fa fa-trash'></i></button></td> ";
                        }
                        b = b + "</tr>";
                        c = c + 1;
                    }

                }

                swalFinishLoading();
                var table = $('#fix-header2').DataTable();
                table.destroy();

                $('#tableResult2').html(b);
                isiTable = b;
                $('#fix-header2').DataTable({
                    fixedHeader: true
                });

            }).fail(function (e) {
                console.log(e);
                swalFinishLoading();
            });
    }


    function showReport() {

        var myWindow = window.open("/view/erp/php/recipt.php?p[]=" + pktr + "&p[]=" + $("#login_kop_id").val(), "", "width=400,height=600");
    }

    function walletSukses() {
        hideModalBayarFello();
        //alert("Sukses Banget");
        $.post('https://api-rki.rkicoop.co.id/api/fello', {
            cmd: "selWalletFello",
            kop_id: $("#login_kop_id").val(),
            traceNumber: ketWallet
        }, function (data, status) {
            //console.log(data);
            const myArr = JSON.parse(data);
            var b = "";
            if (myArr.length == 0) {
                salertFunction("Pembayaran Belum Sukses! Coba Lagi ?", 'error', 'Gagal', 'openModalBayarFello', '');
            } else {
                console.log(data);
                if ($("#modalPpobFelloKodeLayanan").val() == "3" || $("#modalPpobFelloKodeLayanan").val() == "4" || $("#modalPpobFelloKodeLayanan").val() == "5") {
                    felloPlnPostPaid('', 'felloPlnPostPaidPayment');
                    $("#btnPaymentPln").show();
                    $("#btnCekPaymentPln").hide();

                } else {
                    felloMultiBiller('', 'felloMultiBiller');
                    $("#btnPaymentMultiBiller").show();
                    $("#btnCekPaymentMultiBiller").hide();
                }

            }
        }).fail(function (e) {
            //console.log(e);
            salert("Error: " + e, 'warning', 'Warning');
        });
    }



    function closeBinding(custId) {
        hideModalBayarFello();
        alert("Sukses " + custId);
        $.post('https://api-rki.rkicoop.co.id/api/fello', {
            cmd: "selWalletFelloBinding",
            kop_id: $("#login_kop_id").val(),
            custId: custId
        }, function (data, status) {
            //console.log(data);
            const myArr = JSON.parse(data);
            var b = "";
            if (myArr.length == 0) {
                salert("Tidak Ada Data History Binding ?", 'error', 'Gagal');
            } else {
                salert("Status Wallet Anda Adalah : " + myArr[0]["act"], 'success', 'Success');
            }
        }).fail(function (e) {
            //console.log(e);
            salert("Error: " + e, 'warning', 'Warning');
        });
    }


    function cekBinding() {
        $.post('https://api-rki.rkicoop.co.id/api/fello', {
            cmd: "selWalletFelloCekBinding",
            kop_id: $("#login_kop_id").val(),
            userId: $('#login_userId').val()
        }, function (data, status) {
            console.log(data);
            const myArr = JSON.parse(data);
            var b = "";
            if (myArr.length == 0) {
                salert("Tidak Ada Data History Binding ?", 'error', 'Gagal');
            } else {
                if (myArr[0]["act"] == "BINDING") {
                    $("#btnBinding").prop('disabled', true);
                    $("#btnUnBinding").prop('disabled', false);
                } else {
                    $("#btnBinding").prop('disabled', false);
                    $("#btnUnBinding").prop('disabled', true);
                }
                //salert("Status Wallet Anda Adalah : " + myArr[0]["act"], 'success', 'Success');
            }
        }).fail(function (e) {
            salert("Error: " + e, 'warning', 'Warning');
        });
    }

    function walletFailed() {
        alert("Failed Banget");
    }

    function bayar() {
        $('#totalBelanja').text($('#totalPos').text());
        $('#totalBelanjaVal').val($('#totalPosVal').val());
        //$('#totalBayar').text("");
        //$('#kembalian').text("");
        $('#totalItemBayar').text($('#totalItem').text());
        $('#totalItemBayarVal').val($('#totalItem').text().replace("Item", ""));
        openModalTran();
    }


    function changeTipe() {
        if ($("#modalPPOBTipe").val() == "000003" || $("#modalPPOBTipe").val() == "000004") {
            $("#modalPPOBNomor").attr("placeholder", "No Pelanggan");
        } else {
            $("#modalPPOBNomor").attr("placeholder", "No Telpon");
        }
    }

    function openModalTran() {
        $("#modalTran").modal("show");
    }

    function hideModalTran() {
        $("#modalTran").modal("hide");
    }

    function openModalBayarFello() {
        //$('#modalBayarFelloFrame').attr('src', "http://172.19.152.150:8005/api/felloWalletPayReturn");
        $("#modalBayarFello").modal("show");
        //walletSukses('', '', '', '', '');
    }

    function hideModalBayarFello() {
        $("#modalBayarFello").modal("hide");
    }



    function openModalPPOB(tipe) {

        $('#modalPPOBNomor').prop("readonly", false);
        $('#modalPPOBNomor').removeClass("readonly");
        if (tipe == "PULSA" || tipe == "PAKETDATA") {
            getTokenKaspro(tipe, 'kasProCustomerAccountInquery');
            $("#modalPPOBKodeBayar").val("");
            $("#modalPPOBPrice").val("");
            $("#modalPPOBTitle").val("");
            $("#modalPPOBModalTitle").val("");
            $("#modalPPOBJumlahUang").val("");
            $("#modalPPOBNomor").val("");
            $("#biilerInq").html("");
            $("#modalPPOBTotalBelanja").text("");
            $("#modalPPOBTotalBelanjaVal").val("");

            $("#modalPPOBTotalItemBayar").text("");
            $("#modalPPOBTotalItemBayarVal").val("");

            $("#modalPPOBTotalBayar").text("");

            $("#modalPPOBKembalian").text("");
            $("#modalPPOBKembalianVal").val("");

            $("#modalPPOBTipe").val(tipe);
            $("#modalPPOB").modal("show");
        } else if (tipe == "TOPUP") {
            $("#modalTopUp").modal("show");
            getTokenKaspro(tipe, 'kasProCustomerAccountInquery');
        } else {
            $("#modalOtherKodeBayar").val("");
            $("#modalOtherPrice").val("");
            $("#modalOtherModalTitle").val("");
            $("#modalOtherJumlahUang").val("");
            $("#modalOtherNomor").val("");
            $("#biilerInqOther").html("");

            $("#modalOtherTotalBelanja").text("");
            $("#modalOtherTotalBelanjaVal").val("");

            $("#modalOtherTotalItemBayar").text("");
            $("#modalOtherTotalItemBayarVal").val("");

            $("#modalOtherTotalBayar").text("");

            $("#modalOtherKembalian").text("");
            $("#modalOtherKembalianVal").val("");

            $("#modalOtherTipe").val(tipe);
            $("#modalOtherProvider").val(tipe);
            $("#modalOtherNomor").val("000065820");

            if (tipe == "PDAM") { getTokenKaspro(tipe, 'kasProBillerInqueryOther'); }
            $("#modalOther").modal("show");
        }
    }


    function toMoneyFelloPpob(idx) {
        if (idx == "PLN") {
            if ($("#modalPpobFelloTagihan").val() == "") {
                salert("Tolong Inquery Dahulu !", "warning", "Warning");
            } else {
                var belanja = $("#modalPpobFelloTagihan").val();
                var jumlahUang = $("#modalPpobFelloJumlahUang").val();
                //console.log("gg " + "vv" + jumlahBelanja);
                var a = 0;
                a = parseInt(jumlahUang) - parseInt(belanja);

                $("#modalPpobFelloKembalian").text("Rp " + parseInt(a).toLocaleString());
                $("#modalPpobFelloTotalBelanja").text("Rp " + parseInt(belanja).toLocaleString());
                $("#modalPpobFelloTotalBayar").text("Rp " + parseInt(jumlahUang).toLocaleString());
                $("#modalPpobFelloTotalItemBayar").text(" 1 ");

            }
        } else {
            if ($("#modalMultiFelloHarga").val() == "") {
                salert("Tolong Inquery Dahulu !", "warning", "Warning");
            } else {
                var belanja = $("#modalMultiFelloHarga").val();
                var jumlahUang = $("#modalMultiFelloJumlahUang").val();
                //console.log("gg " + "vv" + jumlahBelanja);
                var a = 0;
                a = parseInt(jumlahUang) - parseInt(belanja);
                $("#modalMultiFelloKembalian").text("Rp " + parseInt(a).toLocaleString());
                $("#modalMultiFelloTotalBelanja").text("Rp " + parseInt(belanja).toLocaleString());
                $("#modalMultiFelloTotalBayar").text("Rp " + parseInt(jumlahUang).toLocaleString());
                $("#modalMultiFelloTotalItemBayar").text(" 1 ");

            }
        }
    }




    function felloPilihBiller() {
        var a = "";
        var b = $("#modalMultiFelloNomor").val();
        var c = $("#modalMultiFelloTipeLayanan").val();
        var d = $("#modalMultiFelloKodeLayanan").val();
        var e = $("#modalMultiFelloProduct").val();
        var rr = new Date();
        var kode = e.split("_");
        if (b == "" || c == "" || d == "" || e == "" || b == null || c == null || d == null || e == null) {
            salert("Tolong Lengkapi Data Dahulu !", "warning", "Warning");
        } else if (d == "4") {
            swalStartLoading();
            $.ajax({
                url: 'https://api-rki.rkicoop.co.id/api/fello',
                type: 'POST',
                data: {
                    "cmd": "felloMultiBillerPostPaid",
                    "act": "felloMultiPostPaidInq",
                    "date": "",
                    kop_id: $("#login_kop_id").val(),
                    userIns: $('#login_userId').val(),
                    no_anggota: $('#login_userId').val(),
                    ppob_id: "MULTI-" + rr.getFullYear() + "" + rr.getMonth() + "" + rr.getDate() + "" + rr.getHours() + "" + rr.getMinutes() + "" + rr.getSeconds() + rr.getMilliseconds(),
                    mti_MessageTypeIdentification: "0200",
                    bit2_PrimaryAccountNumber: kode[0] + kode[1] + kode[2],//074011
                    bit3_ProcessingCode: "380000",
                    bit4_TransactionAmount: "",
                    bit7_TransmissionDateTime: "",
                    bit11_STAN: "",
                    bit12_LocalTransactionTime: "",
                    bit13_LocalTransactionDate: "",
                    bit15_SettlementDate: "",
                    bit18_MerchantType: "",
                    bit32_AcquiringInstitutionIdentificationCode: "",
                    bit37_RetrievalReferenceNumber: "",
                    //bit39_ResponseCode:,
                    bit41_TerminalID: "",
                    bit42_AcceptorIdentification: "",
                    bit48_AdditionalDataPrivate: $("#modalMultiFelloNomor").val(),
                    bit49_TransactionCurrencyCode: "",
                    bit63_DataLoket: ""
                }, dataType: 'json',
                success: function (data) {
                    //console.log(data);
                    swalFinishLoading();
                    var b = "";
                    var bit4 = "";
                    var bit39 = "";
                    var bit48 = "";
                    for (const key in data) {
                        var myKey = `${key}`;
                        var myvale = `${data[key]}`;
                        //console.log(felloLibrary(myKey, "plnPostPaid") + " : " + myvale);
                        //b = b + felloLibrary(myKey, "plnPostPaid") + " : " + myvale + "<br>";
                        if (myKey == "4") {
                            bit4 = myvale;
                        }
                        if (myKey == "39") {
                            bit39 = myvale;
                        }
                        if (myKey == "48") {
                            bit48 = myvale;
                            felloBit48 = bit48;
                        }
                        if (myKey == "2") {
                            felloBit2 = myvale;
                        }
                        if (myKey == "11") {
                            felloBit11 = myvale;
                        }
                    }
                    if (bit39 == "00") {
                        if (c == "06") {
                            $("#modalMultiFelloHarga").val(parseInt(bit4));
                            $("#modalMultiFelloJumlahUang").prop('readonly', false);

                            b = b + "   RC : " + bit39 + " <br>";
                            b = b + "   NO REKENING : " + bit48.substring(0, 15) + " <br>";
                            b = b + "   NAMA : " + bit48.substring(27, 57) + " <br> ";
                            b = b + "   BLN/THN : " + bit48.substring(16, 27) + " <br> ";
                            b = b + "   JUMLAH LBR TAGIHAN (BLN) : " + bit48.substring(58, 59) + " BLN <br> ";
                            b = b + "   RP TAGIHAN : Rp  " + bit48.substring(61, 73) + "<br> ";
                            b = b + "   BIAYA ADMIN : Rp " + parseInt(bit48.substring(73, 81)).toLocaleString() + "<br> ";
                            b = b + "   TOTAL BAYAR : Rp " + parseInt(parseInt(bit48.substring(73, 81)) + /*parseInt(bit48.substring(138, 147)) +*/ parseInt(bit48.substring(61, 73))).toLocaleString() + "<br> ";
                            $("#dataMultiBillerFello").html(b);
                        } else if (c == "07") {
                            $("#modalMultiFelloHarga").val(parseInt(bit4));
                            $("#modalMultiFelloJumlahUang").prop('readonly', false);

                            b = b + "   RC : " + bit39 + " <br>";
                            b = b + "   NO REKENING : " + bit48.substring(0, 15) + " <br>";
                            b = b + "   NAMA : " + bit48.substring(27, 57) + " <br> ";
                            b = b + "   BLN/THN : " + bit48.substring(16, 27) + " <br> ";
                            b = b + "   JUMLAH LBR TAGIHAN (BLN) : " + bit48.substring(58, 59) + " BLN <br> ";
                            var loop1 = 0;
                            for (let i = 1; i < parseInt(bit48.substring(58, 59)) + 1; i++) {
                                b = b + "   <hr> <br>";
                                b = b + "   Bill Date #" + i + " : " + bit48.substring(81 + loop1, 87 + loop1) + "<br> ";
                                b = b + "   Bill Amount #" + i + " : " + parseInt(bit48.substring(87 + loop1, 99 + loop1)).toLocaleString() + "<br> ";
                                b = b + "   Penalty #" + i + " : " + bit48.substring(99 + loop1, 107 + loop1) + "<br> ";
                                b = b + "   Kubikasi #" + i + " : " + bit48.substring(107 + loop1, 124 + loop1) + "<br> ";

                                loop1 = loop1 + 43;
                            }
                            b = b + "   RP TAGIHAN : Rp  " + parseInt(bit48.substring(61, 73)).toLocaleString() + "<br> ";
                            b = b + "   BIAYA ADMIN : Rp " + parseInt(bit48.substring(73, 81)).toLocaleString() + "<br> ";
                            b = b + "   TOTAL BAYAR : Rp " + parseInt(parseInt(bit48.substring(73, 81)) + /*parseInt(bit48.substring(138, 147)) +*/ parseInt(bit48.substring(61, 73))).toLocaleString() + "<br> ";
                            $("#dataMultiBillerFello").html(b);
                        } else if (c == "27") {
                            //alert("oke");
                            $("#modalMultiFelloHarga").val(parseInt(bit48.substring(271, 285)));
                            $("#modalMultiFelloJumlahUang").prop('readonly', false);
                            b = b + "   RC : " + bit39 + " <br>";
                            b = b + "   IDPEL : " + bit48.substring(0, 20) + " <br>";
                            b = b + "   NAMA PDAM : " + bit48.substring(20, 50) + " <br>";
                            b = b + "   NAMA PELANGGAN : " + bit48.substring(50, 80) + " <br>";
                            b = b + "   ALAMAT : " + bit48.substring(80, 125) + " <br>";
                            b = b + "   GOLONGAN PELANGGAN : " + bit48.substring(125, 145) + " <br>";
                            b = b + "   Tipe Pelanggan : " + bit48.substring(145, 175) + " <br>";
                            //b = b + "   Field Cadangan1 : " + bit48.substring(175, 207) + " <br>";
                            //b = b + "   Field Cadangan2 : " + bit48.substring(207, 239) + " <br>";
                            //b = b + "   Field Cadangan3 : " + bit48.substring(239, 271) + " <br>";
                            b = b + "   GRAND TOTAL : " + parseInt(bit48.substring(271, 285)).toLocaleString() + " <br>";
                            b = b + "   Admin : " + parseInt(bit48.substring(285, 295)).toLocaleString() + " <br>";
                            b = b + "   Jumlah Tunggakan : " + parseInt(bit48.substring(295, 297)).toLocaleString() + " <br>";
                            b = b + "   Jumlah Tagihan : " + parseInt(bit48.substring(297, 298)).toLocaleString() + " <br>";

                            var loop1 = 0;
                            for (let i = 1; i < parseInt(bit48.substring(297, 298)) + 1; i++) {
                                b = b + "   <hr> <br>";
                                b = b + "   BLTH : " + bit48.substring(298 + loop1, 304 + loop1) + " <br>";
                                b = b + "   METER AWAL : " + parseInt(bit48.substring(304 + loop1, 316 + loop1)).toLocaleString() + " <br>";
                                b = b + "   METER AKHIR : " + parseInt(bit48.substring(316 + loop1, 328 + loop1)).toLocaleString() + " <br>";
                                b = b + "   GMA : " + bit48.substring(328 + loop1, 336 + loop1) + " <br>";
                                b = b + "   PEMAKAIAN : " + bit48.substring(336 + loop1, 344 + loop1) + " <br>";
                                b = b + "   RPTAG : " + parseInt(bit48.substring(344 + loop1, 358 + loop1)).toLocaleString() + " <br>";
                                b = b + "   ADMIN : " + parseInt(bit48.substring(358 + loop1, 368 + loop1)).toLocaleString() + " <br>";
                                b = b + "   MATERAI : " + parseInt(bit48.substring(368 + loop1, 378 + loop1)).toLocaleString() + " <br>";
                                b = b + "   LIMBAH : " + parseInt(bit48.substring(378 + loop1, 388 + loop1)).toLocaleString() + " <br>";
                                b = b + "   RESTRIBUSI : " + parseInt(bit48.substring(388 + loop1, 398 + loop1)).toLocaleString() + " <br>";
                                b = b + "   Jasa Pemeliharaan : " + parseInt(bit48.substring(398 + loop1, 408 + loop1)).toLocaleString() + " <br>";
                                b = b + "   Jasa ADM : " + parseInt(bit48.substring(408 + loop1, 418 + loop1)).toLocaleString() + " <br>";
                                b = b + "   DENDA : " + parseInt(bit48.substring(418 + loop1, 428 + loop1)).toLocaleString() + " <br>";
                                b = b + "   Biaya Lainnya 1 : " + bit48.substring(428 + loop1, 440 + loop1) + " <br>";
                                b = b + "   Biaya Lainnya 2 : " + bit48.substring(440 + loop1, 452 + loop1) + " <br>";
                                b = b + "   Biaya Lainnya 3 : " + bit48.substring(452 + loop1, 464 + loop1) + " <br>";

                                loop1 = loop1 + 166;
                            }

                            $("#dataMultiBillerFello").html(b);

                        }

                        $("#modalMultiFelloNomor").prop('readonly', true);
                        $("#modalMultiFelloKodeLayanan").prop('disabled', true);
                        $("#modalMultiFelloTipeLayanan").prop('disabled', true);
                        $("#modalMultiFelloProduct").prop('disabled', true);

                    } else {
                        b = b + "   RC : " + bit39 + " <br>";
                        $("#dataMultiBillerFello").html(b);
                        $("#modalMultiFelloHarga").val(0);
                        //b = b + "   Remark : <span class='text-danger font-weight-bold'> Error Code " + bit39 + " </span> <br>";
                        felloLibraryMesage("bit39", bit39, "", "felloMultiBillerInq");

                    }
                }
            }).fail(function (e) {
                salert("Error Code: " + e.status, 'error', 'Error');
            });

        } else if (d == "3") {
            var e1 = e.split("_");
            a = a + " Kode Pembayaran : " + b + "XX" + c + d + e + "<br>";
            a = a + " Nomor : " + b + "<br>";
            a = a + " Layanan : " + $("#modalMultiFelloTipeLayanan option:selected").text() + "<br>";
            a = a + " Kode Layanan : " + $("#modalMultiFelloKodeLayanan option:selected").text() + "<br>";
            a = a + " Product : " + $("#modalMultiFelloProduct option:selected").text() + "<br>";
            a = a + " Harga : " + parseInt(e1[4]).toLocaleString() + "<br>";
            $("#modalMultiFelloHarga").val(e1[4]);
            $("#dataMultiBillerFello").html(a);

            $("#modalMultiFelloNomor").prop('readonly', true);
            $("#modalMultiFelloKodeLayanan").prop('disabled', true);
            $("#modalMultiFelloTipeLayanan").prop('disabled', true);
            $("#modalMultiFelloProduct").prop('disabled', true);
        }
    }

    function felloResetBiller() {
        $("#modalMultiFelloNomor").prop('readonly', false);
        $("#modalMultiFelloKodeLayanan").prop('disabled', false);
        $("#modalMultiFelloTipeLayanan").prop('disabled', false);
        $("#modalMultiFelloProduct").prop('disabled', false);
        $("#modalMultiFelloHarga").val(0);
        $("#dataMultiBillerFello").text("");
    }

    function felloResetPln() {
        $("#modalPpobFelloNomor").prop('readonly', false);
        $("#modalPpobFelloKodeLayanan").prop('disabled', false);
        $("#modalPpobFelloDenum").prop('disabled', false);
        $("#modalPpobFelloTagihan").val(0);
        $("#dataPlnPostPaidFello").text("");
    }

    function pilihDenum() {
        //buat default
        var a = $("#modalPpobFelloKodeLayanan").val();
        if (a == "3") {
            $("#modalPpobFelloNomor").val("14234567895");
            $("#modalPpobFelloDenum").val("");
            $("#modalPpobFelloDenum").prop('disabled', false);
        } else if (a == "4") {
            $("#modalPpobFelloNomor").val("534316522301");
            $("#modalPpobFelloDenum").val("");
            $("#modalPpobFelloDenum").prop('disabled', true);
        } else if (a == "5") {
            $("#modalPpobFelloNomor").val("5200112005488");
            $("#modalPpobFelloDenum").val("");
            $("#modalPpobFelloDenum").prop('disabled', true);
        }
    }

    function cekLength() {
        var a = $("#modalPpobFelloKodeLayanan").val();
        if (a == "4") {
            if ($("#modalPpobFelloNomor").val().length > 12) {
                salert("Max 12 Digit ", "warning", "Warning");
                $("#modalPpobFelloNomor").val($("#modalPpobFelloNomor").val().substring(0, 12));
            }
        }
    }

    function felloPlnPostPaid(tipe, act) {
        var dateRequest = new Date().toUTCString();
        var cmd = "felloPlnPostPaid";
        if ($("#modalPpobFelloKodeLayanan").val() == "") {
            salert("Pilih Kode Layanan Dahulu ! ", "warning", "Warning");
            return;
        }
        if ($("#modalPpobFelloKodeLayanan").val() == "3" && ($("#modalPpobFelloDenum").val() == "")) {
            salert("Harap Isi Denum ! ", "warning", "Warning");
            return;
        }
        var mti_MessageTypeIdentification = "";
        var bit2_PrimaryAccountNumber = "";
        var bit3_ProcessingCode = "";
        var bit4_TransactionAmount = "";
        var bit7_TransmissionDateTime = "";
        var bit11_STAN = "";
        var bit12_LocalTransactionTime = "";
        var bit13_LocalTransactionDate = "";
        var bit15_SettlementDate = "";
        var bit18_MerchantType = "";
        var bit32_AcquiringInstitutionIdentificationCode = "";
        var bit37_RetrievalReferenceNumber = "";
        var bit41_TerminalID = "";
        var bit42_AcceptorIdentification = "";
        var bit48_AdditionalDataPrivate = "";
        var bit49_TransactionCurrencyCode = "";
        var bit63_DataLoket = "";


        var bit = new Date();
        var nextDay = new Date();
        nextDay.setDate(nextDay.getDate() + 1);

        var nexBulan = nextDay.getMonth() + 1;
        var strNexBulan = "";
        var nexHari = nextDay.getDate();
        var strNexHari = "";

        if (nexBulan < 10) {
            strNexBulan = "0" + nexBulan
        } else {
            strNexBulan = nexBulan;
        }
        if (nexHari < 10) {
            strNexHari = "0" + nexHari
        } else {
            strNexHari = nexHari;
        }

        var year = bit.getFullYear();
        var bulan = bit.getMonth() + 1;
        var strBulan = "";
        var hari = bit.getDate();
        var strHari = "";
        var jam = bit.getHours();
        var strJam = "";
        var min = bit.getMinutes();
        var strMin = "";
        var second = bit.getSeconds();
        var strSecond = "";


        if (bulan < 10) {
            strBulan = "0" + bulan
        } else {
            strBulan = bulan;
        }
        if (hari < 10) {
            strHari = "0" + hari
        } else {
            strHari = hari;
        }
        if (jam < 10) {
            strJam = "0" + jam
        } else {
            strJam = jam;
        }
        if (min < 10) {
            strMin = "0" + min
        } else {
            strMin = min;
        }
        if (second < 10) {
            strSecond = "0" + second
        } else {
            strSecond = second;
        }
        //var bitTran = bit.getFullYear() + "" + bit.getMonth() + "" + bit.getDate() + "" + bit.getHours() + "" + bit.getMinutes() + "" + bit.getSeconds() + bit.getMilliseconds();
        if (act == "felloPlnPostPaidInq") {
            swalStartLoading();
            //$("#modalPpobFelloNomor").hide();
            if ($("#modalPpobFelloKodeLayanan").val() == "4") {
                if ($("#modalPpobFelloNomor").val().length != 12) {
                    salert("Nomor IDPel Tidak Valid !", "warning", "Warning");
                    return;
                }
                mti_MessageTypeIdentification = "0200";
                bit2_PrimaryAccountNumber = "0" + $("#modalPpobFelloNomor").val().substring(0, 2) + "501";//2 digit awal id pelanggan
                bit3_ProcessingCode = "380000";
                bit4_TransactionAmount = "";
                bit7_TransmissionDateTime = strBulan + strHari + strJam + strMin + strSecond;//"0228130710"; bulan+hari+jam+minute+detik
                bit11_STAN = strJam + "" + strMin + "" + strSecond; // "130710"; disesuaikan
                bit12_LocalTransactionTime = strJam + "" + strMin + "" + strSecond;//"130710"; jam+menite+detik
                bit13_LocalTransactionDate = strBulan + strHari;//"0228";bulan+hari
                bit15_SettlementDate = strNexBulan + strNexHari;//"0301";hari berikutnya dari bit 13
                bit18_MerchantType = "";
                bit32_AcquiringInstitutionIdentificationCode = "";
                bit37_RetrievalReferenceNumber = year.toString().substr(2, 4) + strBulan + strHari + strJam + strMin + strSecond; //"000000130710";
                bit41_TerminalID = "";
                bit42_AcceptorIdentification = "";
                bit48_AdditionalDataPrivate = $("#modalPpobFelloNomor").val();
                bit49_TransactionCurrencyCode = "360";
                bit63_DataLoket = "";
            } else if ($("#modalPpobFelloKodeLayanan").val() == "3") {
                var nomor = "";
                if ($("#modalPpobFelloNomor").val().length != 12 || $("#modalPpobFelloNomor").val().length != 11) {
                    if ($("#modalPpobFelloNomor").val().length == 12) {
                        nomor = "00000000000" + $("#modalPpobFelloNomor").val() + "" + "1";
                    } else if ($("#modalPpobFelloNomor").val().length == 11) {
                        nomor = $("#modalPpobFelloNomor").val() + "000000000000" + "0";
                    }
                    mti_MessageTypeIdentification = "0200";
                    bit2_PrimaryAccountNumber = "053502";
                    bit3_ProcessingCode = "380000";
                    bit4_TransactionAmount = $("#modalPpobFelloDenum").val();//"20000"
                    bit7_TransmissionDateTime = strBulan + strHari + strJam + strMin + strSecond;//"0228130710"; bulan+hari+jam+minute+detik
                    bit11_STAN = strJam + "" + strMin + "" + strSecond; // "130710"; disesuaikan
                    bit12_LocalTransactionTime = strJam + "" + strMin + "" + strSecond;//"130710"; jam+menite+detik
                    bit13_LocalTransactionDate = strBulan + strHari;//"0228";bulan+hari
                    bit15_SettlementDate = strNexBulan + strNexHari;//"0301";hari berikutnya dari bit 13
                    bit18_MerchantType = "";
                    bit32_AcquiringInstitutionIdentificationCode = "";
                    bit37_RetrievalReferenceNumber = year.toString().substr(2, 4) + strBulan + strHari + strJam + strMin + strSecond; //"000000130710";
                    bit41_TerminalID = "";
                    bit42_AcceptorIdentification = "";
                    bit48_AdditionalDataPrivate = "JTL53L3" + nomor;//bit 48 fix (JTL53L3) Meter Id (11 digit) IDpel (12 digit) Flag (1 digit terakhir Diset 0 jika acuannya adalah meteran_id dan 1 jika acuannya adalah idpel)
                    bit49_TransactionCurrencyCode = "360";
                    bit63_DataLoket = "";

                } else {
                    salert("Nomor  Tidak Valid !", "warning", "Warning");
                    return;
                }

            } else if ($("#modalPpobFelloKodeLayanan").val() == "5") {

                mti_MessageTypeIdentification = "0200";
                bit2_PrimaryAccountNumber = "053504";
                bit3_ProcessingCode = "380000";
                bit4_TransactionAmount = "";
                bit7_TransmissionDateTime = strBulan + strHari + strJam + strMin + strSecond;//"0228130710"; bulan+hari+jam+minute+detik
                bit11_STAN = strJam + "" + strMin + "" + strSecond; // "130710"; disesuaikan
                bit12_LocalTransactionTime = strJam + "" + strMin + "" + strSecond;//"130710"; jam+menite+detik
                bit13_LocalTransactionDate = strBulan + strHari;//"0228";bulan+hari
                bit15_SettlementDate = strNexBulan + strNexHari;//"0301";hari berikutnya dari bit 13
                bit18_MerchantType = "";
                bit32_AcquiringInstitutionIdentificationCode = "";
                bit37_RetrievalReferenceNumber = year.toString().substr(2, 4) + strBulan + strHari + strJam + strMin + strSecond; //"000000130710";
                bit41_TerminalID = "";
                bit42_AcceptorIdentification = "";
                bit48_AdditionalDataPrivate = $("#modalPpobFelloNomor").val();
                bit49_TransactionCurrencyCode = "360";
                bit63_DataLoket = "";

            }
            $.ajax({
                url: 'https://api-rki.rkicoop.co.id/api/fello',
                type: 'POST',
                data: {
                    "cmd": cmd,
                    "act": act,
                    "date": dateRequest,

                    mti_MessageTypeIdentification: mti_MessageTypeIdentification,
                    bit2_PrimaryAccountNumber: bit2_PrimaryAccountNumber,
                    bit3_ProcessingCode: bit3_ProcessingCode,
                    bit4_TransactionAmount: bit4_TransactionAmount,
                    bit7_TransmissionDateTime: bit7_TransmissionDateTime,
                    bit11_STAN: bit11_STAN,
                    bit12_LocalTransactionTime: bit12_LocalTransactionTime,
                    bit13_LocalTransactionDate: bit13_LocalTransactionDate,
                    bit15_SettlementDate: bit15_SettlementDate,
                    bit18_MerchantType: bit18_MerchantType,
                    bit32_AcquiringInstitutionIdentificationCode: bit32_AcquiringInstitutionIdentificationCode,
                    bit37_RetrievalReferenceNumber: bit37_RetrievalReferenceNumber,
                    //bit39_ResponseCode:,
                    bit41_TerminalID: bit41_TerminalID,
                    bit42_AcceptorIdentification: bit42_AcceptorIdentification,
                    bit48_AdditionalDataPrivate: bit48_AdditionalDataPrivate,
                    bit49_TransactionCurrencyCode: bit49_TransactionCurrencyCode,
                    bit63_DataLoket: bit63_DataLoket
                }, dataType: 'json',
                success: function (data) {
                    //console.log(data);
                    swalFinishLoading();
                    felloDataInq = data;
                    //console.log(felloDataInq);
                    var b = "";
                    var bit4 = "";
                    var bit39 = "";
                    var bit48 = "";
                    var bit62 = "";
                    for (const key in felloDataInq) {
                        var myKey = `${key}`;
                        var myvale = `${felloDataInq[key]}`;
                        //b = b + felloLibrary(myKey, "plnPostPaid") + " : " + myvale + "<br>";//nyalain Klo Untuk Trial
                        if (myKey == "bit4") {
                            bit4 = myvale;
                        }
                        if (myKey == "bit39") {
                            bit39 = myvale;
                        }
                        if (myKey == "bit48") {
                            bit48 = myvale;
                        }
                        if (myKey == "bit62") {
                            bit62 = myvale;
                        }
                    }


                    $("#modalPpobFelloTagihan").val(parseInt(bit4));
                    $("#modalPpobFelloJumlahUang").prop('readonly', false);
                    if (bit39 != "00") {
                        $("#modalPpobFelloNomor").prop("readonly", false);
                        //$("#modalPpobFelloNomor").show();
                        $("#dataPlnPostPaidFello").html("RC : " + bit39 + " <br>");
                        if ($("#modalPpobFelloKodeLayanan").val() == "4") {
                            felloLibraryMesage("bit39", bit39, "", "felloPlnPostPaid");
                        } else if ($("#modalPpobFelloKodeLayanan").val() == "3") {
                            felloLibraryMesage("bit39", bit39, "", "felloPlnPrepaidInquery");
                        } else if ($("#modalPpobFelloKodeLayanan").val() == "5") {
                            felloLibraryMesage("bit39", bit39, "", "felloPlnNonTagLisInquery");
                        }

                    } else {
                        if ($("#modalPpobFelloKodeLayanan").val() == "4") {
                            b = b + "   RC : " + bit39 + " <br>";

                            b = b + "   ID Pelanggan : " + bit48.substring(0, 12) + " <br>";//12 Id pelanggan, padding 0 rata kiri. 542100528616
                            b = b + "   Jumlah Tagihan : " + bit48.substring(12, 13) + " <br>";//1 Jumlah tagihan yang bisa dibayarkan dalam satu 4 siklus (dibatasi hingga 4 tunggakan oleh PLN)
                            b = b + "   Jumlah Tunggakan : " + bit48.substring(13, 15) + " <br>";//2 Jumlah sisa tunggakan yang belum dibayarkan 01
                            b = b + "   Trx id : " + bit48.substring(15, 47) + " <br>";//32 Trx id
                            b = b + "   Nama : " + bit48.substring(47, 72) + " <br>";//25 Nama pelanggan, padding spasi rata kanan NANANG
                            b = b + "   Unit servis : " + bit48.substring(72, 77) + " <br>";//5 Unit servis
                            b = b + "   No telp unit servis : " + bit48.substring(77, 92) + " <br>";//15 No telepon unit servis, padding spasi rata kanan
                            b = b + "   Tarif : " + bit48.substring(92, 96) + " <br>";//4 Kode tarif pelanggan, padding spasi rata kanan
                            b = b + "   Daya : " + bit48.substring(96, 105) + " <br>";//9 Nilai daya, padding 0 rata kiri
                            b = b + "   Biaya admin : " + bit48.substring(105, 114) + " <br>";//9 Nilai biaya admin, padding 0 rata kiri


                            var loop1 = 0;
                            for (let i = 1; i < parseInt(bit48.substring(12, 13)) + 1; i++) {

                                //b = b + "   Bill Date #" + i + " : " + bit48.substring(81 + loop1, 87 + loop1) + "<br> ";
                                b = b + "   BLTH #" + i + " : " + bit48.substring(114 + loop1, 120 + loop1) + "<br> ";//(* = Berulang 6 YYYYMM berdasarkan jumlah tagihan)
                                b = b + "   Tanggal jatuh tempo #" + i + " : " + bit48.substring(120 + loop1, 128 + loop1) + "<br> ";// 8 DDMMYYYY
                                b = b + "   Tanggal Catat Meter #" + i + " : " + bit48.substring(128 + loop1, 136 + loop1) + "<br> "; //8 YYYYMMDD
                                b = b + "   Biaya Tagihan PLN #" + i + " : " + bit48.substring(136 + loop1, 148 + loop1) + "<br> "; //12 Total tagihan dari PLN minus biaya admin (jika ada), padding 0 rata kiri
                                b = b + "   Insentif #" + i + " : " + bit48.substring(148 + loop1, 159 + loop1) + "<br> "; //11 Insentif / desentif (x[n]), x = C/D , n = padding 0 C0000000000 rata kiri
                                b = b + "   Biaya PPN #" + i + " : " + bit48.substring(159 + loop1, 160 + loop1) + "<br> ";// 10 Nilai pajak inkaso, padding 0 rata kiri
                                b = b + "   Biaya Keterlambatan #" + i + " : " + bit48.substring(160 + loop1, 172 + loop1) + "<br> ";// 12 Nilai denda, padding 0 rata kiri
                                b = b + "   LWBP sebelum #" + i + " : " + bit48.substring(180 + loop1, 188 + loop1) + "<br> "; //8 Padding 0 rata kiri
                                b = b + "   LWBP sesudah #" + i + " : " + bit48.substring(188 + loop1, 198 + loop1) + "<br> ";// 8 Padding 0 rata kiri
                                b = b + "   WBP sebelum #" + i + " : " + bit48.substring(198 + loop1, 206 + loop1) + "<br> ";// 8 Padding 0 rata kiri
                                b = b + "   WBP sesudah #" + i + " : " + bit48.substring(206 + loop1, 214 + loop1) + "<br> ";// 8 Padding 0 rata kiri
                                b = b + "   KVARH sebelum #" + i + " : " + bit48.substring(214 + loop1, 222 + loop1) + "<br> "; //8 Padding 0 rata kiri
                                b = b + " <hr> ";
                                loop1 = loop1 + 6;
                            }
                            /*
                            b = b + "   IDIPEL : " + bit48.substring(0, 12) + " <br>";
                            b = b + "   NAMA : " + bit48.substring(48, 73) + " <br> ";
                            b = b + "   TARIF/DAYA : " + bit48.substring(94, 98) + " / " + bit48.substring(99, 106) + " <br> ";
                            b = b + "   BL/TH  : " + bit48.substring(116, 121) + "<br> ";
                            b = b + "   TOTAL LBR TAGIHAN : " + bit48.substring(12, 13) + " BLN <br> ";
                            b = b + "   RP TAG PLN : Rp  " + bit48.substring(136, 148) + "<br> ";
                            b = b + "   ADMIN CA *) : Rp " + parseInt(bit48.substring(138, 147)).toLocaleString() + "<br> ";
                            b = b + "   BIAYA PPN : Rp " + parseInt(bit48.substring(160, 169)).toLocaleString() + "<br> ";
                            b = b + "   BIAYA KETERLAMBATAN : Rp " + parseInt(bit48.substring(170, 181)).toLocaleString() + "<br> ";
                            b = b + "   TOTAL BAYAR : Rp " + parseInt(parseInt(bit48.substring(136, 148)) + parseInt(bit48.substring(170, 181))).toLocaleString() + "<br> ";
                            */
                        } else if ($("#modalPpobFelloKodeLayanan").val() == "3") {
                            b = b + "     RC :  " + bit39 + "<br>  ";

                            b = b + "     Switcher ID : " + bit48.substring(0, 7) + " <br>";// 7 Left Justified.
                            b = b + "     Meter Id : " + bit48.substring(7, 18) + " <br>";// 11 Left Justified. Padded with blank
                            b = b + "     Idpel : " + bit48.substring(18, 30) + " <br>";// 12 Left Justified Datanya diambil dari inq  response
                            b = b + "     Flag : " + bit48.substring(30, 31) + " <br>";// 1 Left Justified Datanya diambil dari inq response
                            b = b + "     Trx id : " + bit48.substring(31, 63) + " <br>";// 32 Right Justified. Padded with spaceDatanya diambil dari inq response
                            b = b + "     Ref id #1 : " + bit48.substring(63, 95) + " <br>";// 32 Right Justified. Padded with spaceDatanya diambil dari inq response
                            b = b + "     Nama : " + bit48.substring(95, 120) + " <br>";// 25 Right Justiied. Padded with space
                            b = b + "     Tarif : " + bit48.substring(120, 124) + " <br>";// 4 Right Justiied. Padded with space
                            b = b + "     Kategori Penggunaan Daya : " + bit48.substring(124, 133) + " <br>";// 9 Left Justiied. Padded  with zero
                            b = b + "     Pilihan Pembelian : " + bit48.substring(133, 134) + " <br>";// 1  0 = membeli token baru 1 = membeli token yang  belum dijual (unsold token)
                            /*
                            b = b + "     NO METER :  " + bit48.substring(7, 18) + "<br>  ";
                            b = b + "     NAMA : " + bit48.substring(95, 120) + "<br>  ";
                            b = b + "     TARIF/DAYA (VA): " + bit48.substring(120, 124) + " / " + bit48.substring(124, 135) + "<br>  ";
                            b = b + "     IDIPEL :  " + bit48.substring(18, 31) + "<br>  "; console.log("gg " + bit62 + "vv");
                            b = b + "     TOKEN UNSOLD1  : " + bit62.substring(27, 28) + " <br>  ";
                            b = b + "     TOKEN UNSOLD2  : " + bit62.substring(28, 38) + " <br>  ";
                            */
                        } else if ($("#modalPpobFelloKodeLayanan").val() == "5") {
                            b = b + "     RC :  " + bit39 + "<br>  ";
                            b = b + "     Nomer Registrasi : " + bit48.substring(0, 13) + "<br>  ";//13 Left Justified. Padded with space
                            b = b + "     Jenis transaksi  : " + bit48.substring(13, 38) + "<br>  ";//25 Left Justified. Padded with space
                            b = b + "     Tanggal registrasi : " + bit48.substring(38, 46) + "<br>  ";//8 YYYYMMDD
                            b = b + "     Batas akhir registrasi :  " + bit48.substring(46, 54) + "<br>  ";//8 DDMMYYYY
                            b = b + "     Idpel : " + bit48.substring(54, 66) + "<br>  ";//12
                            b = b + "     Nama pelanggan : " + bit48.substring(66, 91) + "<br>  ";//25 Left Justified. Padded with space
                            b = b + "     Trx id : " + bit48.substring(91, 123) + "<br>  ";//32
                            b = b + "     Ref id : " + bit48.substring(123, 143) + "<br>  ";//20
                            b = b + "     Total transaksi : " + bit48.substring(143, 160) + "<br>  ";//17 Right Justified. Padded with zero2 digit paling akhir merupakan 2 angka dibelakang koma
                            b = b + "     Rp tagihan : " + bit48.substring(160, 177) + "<br>  ";//17 Right Justified. Padded with zero2 digit paling akhir merupakan 2 angka dibelakang koma
                            b = b + "     Rp Admin : " + bit48.substring(177, 187) + "<br>  ";//10 Right Justified. Padded with zero2 digit paling akhir merupakan 2 angka dibelakang kom
                            /*
                            b = b + "     NOMOR REGISTRASI :  " + bit48.substring(0, 13) + "<br>  ";
                            b = b + "     JENIS TRANSAKSI : " + bit48.substring(13, 38) + "<br>  ";
                            b = b + "     NAMA: " + bit48.substring(66, 91) + "<br>  ";
                            b = b + "     IDIPEL :  " + bit48.substring(54, 66) + "<br>  ";
                            b = b + "     BIAYA PLN  : Rp " + parseInt(bit48.substring(160, 175)).toLocaleString() + " <br>  ";
                            b = b + "     ADMIN BANK : Rp " + parseInt(bit48.substring(178, 187)).toLocaleString() + " <br>  ";
                            b = b + "     TOTAL BAYAR : Rp " + parseInt(bit48.substring(143, 158)).toLocaleString() + "<br>  ";
                            */
                        }
                        $("#dataPlnPostPaidFello").html("");
                        $("#modalPpobFelloJumlahUang").val("0");
                        $("#modalPpobFelloTotalBelanja").text("0");
                        $("#modalPpobFelloTotalItemBayar").text("0");
                        $("#modalPpobFelloTotalBayar").text("0");
                        $("#modalPpobFelloKembalian").text("0");
                        $("#dataPlnPostPaidFello").html(b);

                        $("#modalPpobFelloNomor").prop("readonly", true);
                        $("#modalPpobFelloDenum").prop("disabled", true);
                        $("#modalPpobFelloKodeLayanan").prop("disabled", true);
                    }
                }
            }).fail(function (e) {
                salert("Error Code: " + e.status, 'error', 'Error');
            });
        } else {
            //alert("vv");
            $("#modalPpobFelloNomor").prop("readonly", true);
            $("#modalPpobFelloDenum").prop("disabled", false);
            $("#modalPpobFelloKodeLayanan").prop("disabled", false);

            var belanja = $("#modalPpobFelloTagihan").val();
            var jumlahUang = $("#modalPpobFelloJumlahUang").val();

            if (parseInt(jumlahUang) - parseInt(belanja) < 0) {
                salert("Uang Pembayaran Lebih Kecil", "warning", "Warning");
            } else if (belanja < 1) {
                salert("Tagihan Terlalu Kecil", "warning", "Warning");
            } else if (jumlahUang == "" || jumlahUang == "") {
                salert("Isi Jumlah Uang Dahulu", "warning", "Warning");
            } else {

                var mti_MessageTypeIdentification = "";
                var bit2_PrimaryAccountNumber = "";
                var bit3_ProcessingCode = "";
                var bit4_TransactionAmount = "";
                var bit7_TransmissionDateTime = "";
                var bit11_STAN = "";
                var bit12_LocalTransactionTime = "";
                var bit13_LocalTransactionDate = "";
                var bit15_SettlementDate = "";
                var bit18_MerchantType = "";
                var bit32_AcquiringInstitutionIdentificationCode = "";
                var bit37_RetrievalReferenceNumber = "";
                var bit41_TerminalID = "";
                var bit42_AcceptorIdentification = "";
                var bit48_AdditionalDataPrivate = "";
                var bit49_TransactionCurrencyCode = "";
                var bit63_DataLoket = "";
                if ($("#modalPpobFelloKodeLayanan").val() == "4") {
                    mti_MessageTypeIdentification = "0200";
                    bit2_PrimaryAccountNumber = felloDataInq.bit2;
                    bit3_ProcessingCode = "170000";
                    bit4_TransactionAmount = felloDataInq.bit4;
                    bit7_TransmissionDateTime = felloDataInq.bit7;
                    bit11_STAN = felloDataInq.bit11;
                    bit12_LocalTransactionTime = felloDataInq.bit12;
                    bit13_LocalTransactionDate = felloDataInq.bit13;
                    bit15_SettlementDate = felloDataInq.bit15;
                    bit18_MerchantType = felloDataInq.bit18;
                    bit32_AcquiringInstitutionIdentificationCode = felloDataInq.bit32;
                    bit37_RetrievalReferenceNumber = felloDataInq.bit37;
                    bit41_TerminalID = felloDataInq.bit41;
                    bit42_AcceptorIdentification = felloDataInq.bit42;
                    bit48_AdditionalDataPrivate = $("#modalPpobFelloNomor").val();
                    bit49_TransactionCurrencyCode = felloDataInq.bit49;
                    bit63_DataLoket = felloDataInq.bit63;
                    productCode = "PLN_POSTPAID";
                } else if ($("#modalPpobFelloKodeLayanan").val() == "3") {
                    mti_MessageTypeIdentification = "0200";
                    bit2_PrimaryAccountNumber = felloDataInq.bit2;
                    bit3_ProcessingCode = "171000";
                    bit4_TransactionAmount = felloDataInq.bit4;
                    bit7_TransmissionDateTime = felloDataInq.bit7;
                    bit11_STAN = felloDataInq.bit11;
                    bit12_LocalTransactionTime = felloDataInq.bit12;
                    bit13_LocalTransactionDate = felloDataInq.bit13;
                    bit15_SettlementDate = felloDataInq.bit15;
                    bit18_MerchantType = felloDataInq.bit18;
                    bit32_AcquiringInstitutionIdentificationCode = felloDataInq.bit32;
                    bit37_RetrievalReferenceNumber = felloDataInq.bit37;
                    bit41_TerminalID = felloDataInq.bit41;
                    bit42_AcceptorIdentification = felloDataInq.bit42;
                    bit48_AdditionalDataPrivate = "JTL53L" + $("#modalPpobFelloNomor").val();//bit 48 fix (JTL53L3) Meter Id (11 digit) IDpel (12 digit) Flag (1 digit terakhir Diset 0 jika acuannya adalah meteran_id dan 1 jika acuannya adalah idpel)
                    bit49_TransactionCurrencyCode = felloDataInq.bit49;
                    bit62_Data62 = felloDataInq.bit62;
                    bit63_DataLoket = felloDataInq.bit63;
                    productCode = "PLN_PREPAID";
                } else if ($("#modalPpobFelloKodeLayanan").val() == "5") {
                    mti_MessageTypeIdentification = "0200";
                    bit2_PrimaryAccountNumber = felloDataInq.bit2;
                    bit3_ProcessingCode = "170000";
                    bit4_TransactionAmount = felloDataInq.bit4;
                    bit7_TransmissionDateTime = felloDataInq.bit7;
                    bit11_STAN = felloDataInq.bit11;
                    bit12_LocalTransactionTime = felloDataInq.bit12;
                    bit13_LocalTransactionDate = felloDataInq.bit13;
                    bit15_SettlementDate = felloDataInq.bit15;
                    bit18_MerchantType = felloDataInq.bit18;
                    bit32_AcquiringInstitutionIdentificationCode = felloDataInq.bit32;
                    bit37_RetrievalReferenceNumber = felloDataInq.bit37;
                    bit41_TerminalID = felloDataInq.bit41;
                    bit42_AcceptorIdentification = "";
                    bit48_AdditionalDataPrivate = $("#modalPpobFelloNomor").val();
                    bit49_TransactionCurrencyCode = felloDataInq.bit49;
                    bit63_DataLoket = felloDataInq.bit63;
                    productCode = "PLN_NONTAGLIST";
                }

                var d = new Date();
                var mnth = parseInt(d.getMonth()) + 1;
                var nowe = d.getFullYear() + "-" + mnth + "-" + d.getDate() + " T " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds() + "." + d.getMilliseconds();
                var ppob_id = "PPOB-" + d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
                var nama_customer = "";
                var amount = $('#modalPpobFelloTagihan').val();
                var real_amount = $('#modalPpobFelloTagihan').val();
                var dibayar = $('#modalPpobFelloJumlahUang').val();
                var kembalian = parseInt(dibayar) - parseInt(amount);
                var total_item = $('#modalPpobFelloTotalItemBayar').text();
                var tipe_bayar = $('#modalPpobFelloTypeBayar').val();
                var total_belanja = $("#modalPpobFelloTagihan").val();
                var nomorTran = $("#modalPpobFelloNomor").val();
                var kode_title = "";
                var kode_bayar = "";
                var tipe_transaksi = "";
                var ket = "";


                //console.log(felloDataInq);
                $.ajax({
                    url: 'https://api-rki.rkicoop.co.id/api/fello',
                    type: 'POST',
                    data: {
                        "cmd": cmd,
                        "act": act,
                        "date": dateRequest,
                        kop_id: $("#login_kop_id").val(),
                        userIns: $('#login_userId').val(),
                        no_anggota: $('#login_userId').val(),
                        productCode: productCode,
                        account: "",
                        ppob_id: ppob_id,
                        nama_customer: nama_customer,
                        amount: amount,
                        real_amount: real_amount,
                        dibayar: dibayar,
                        kembalian: kembalian,
                        total_item: total_item,
                        tipe: tipe_bayar,
                        tipe_transaksi: tipe_transaksi,
                        total_belanja: total_belanja,
                        kode_title: kode_title,
                        kode_bayar: kode_bayar,
                        ket: ket,
                        transactionId: ketWallet,
                        nowe: nowe,
                        param: felloDataInq,
                        nomorTran: nomorTran,

                        mti_MessageTypeIdentification: mti_MessageTypeIdentification,
                        bit2_PrimaryAccountNumber: bit2_PrimaryAccountNumber,
                        bit3_ProcessingCode: bit3_ProcessingCode,
                        bit4_TransactionAmount: felloDataInq.bit4,
                        bit7_TransmissionDateTime: bit7_TransmissionDateTime,
                        bit11_STAN: bit11_STAN,
                        bit12_LocalTransactionTime: bit12_LocalTransactionTime,
                        bit13_LocalTransactionDate: bit13_LocalTransactionDate,
                        bit15_SettlementDate: bit15_SettlementDate,
                        bit18_MerchantType: "",
                        bit32_AcquiringInstitutionIdentificationCode: "",
                        bit37_RetrievalReferenceNumber: bit37_RetrievalReferenceNumber,
                        //bit39_ResponseCode:,
                        bit41_TerminalID: "",
                        bit42_AcceptorIdentification: "",
                        bit48_AdditionalDataPrivate: felloDataInq.bit48,//tanda "//" harus dihilangkan agar tidak pending dan error
                        bit49_TransactionCurrencyCode: bit49_TransactionCurrencyCode,
                        bit63_DataLoket: bit63_DataLoket

                    }, dataType: 'json',
                    success: function (data) {
                        //console.log(data.bit39);
                        if (data.bit39 != "00") {
                            $("#modalPpobFelloNomor").prop("readonly", false);
                            felloLibraryMesage("bit39", data.bit39, "", "felloPlnPostPaid");
                            //felloLibraryMesage("bit39", data.bit48, "felloPlnPostPaid");
                        } else {
                            $("#modalPpobFelloNomor").prop("readonly", false);
                            salert("Transaksi Berhasil ", "success", "Success");
                            printStruckPln($("#modalPpobFelloKodeLayanan").val(), data.bit48);
                            clearFelloPlnPostPaid()
                        }

                        $("#modalPpobFelloNomor").prop("readonly", true);
                        $("#modalPpobFelloDenum").prop("disabled", true);
                        $("#modalPpobFelloKodeLayanan").prop("disabled", true);
                    }
                }).fail(function (e) {
                    salert("Error Code: " + e.status, 'error', 'Error');
                });;
            }
        }
    }

    function clearFelloPlnPostPaid() {

        $("#modalPpobFelloNomor").val("");
        $("#dataPlnPostPaidFello").html("");
        $("#modalPpobFelloTagihan").val("0");
        $("#modalPpobFelloJumlahUang").val("0");
        $("#modalPpobFelloTotalBelanja").text("0");
        $("#modalPpobFelloTotalItemBayar").text("0");
        $("#modalPpobFelloTotalBayar").text("0");
        $("#modalPpobFelloKembalian").text("0");
    }

    function clearFelloPlnPostPaid1() {
        //$("#modalPpobFelloNomor").val("");
        $("#dataPlnPostPaidFello").html("");
        $("#modalPpobFelloTagihan").val("0");
        $("#modalPpobFelloJumlahUang").val("0");
        $("#modalPpobFelloTotalBelanja").text("0");
        $("#modalPpobFelloTotalItemBayar").text("0");
        $("#modalPpobFelloTotalBayar").text("0");
        $("#modalPpobFelloKembalian").text("0");
    }


    function clearFelloMulti1() {
        //$("#modalMultiFelloNomor").val("");
        $("#modalMultiFelloHarga").val("0");
        $("#dataMultiFello").html("Detail");
        $("#modalMultiFelloTagihan").val("0");
        $("#modalMultiFelloJumlahUang").val("0");
        $("#modalMultiFelloTotalBelanja").text("0");
        $("#modalMultiFelloTotalItemBayar").text("0");
        $("#modalMultiFelloTotalBayar").text("0");
        $("#modalMultiFelloKembalian").text("0");
    }

    function clearFelloMulti() {

        $("#modalMultiFelloNomor").val("");
        $("#dataMultiBillerFello").html("");
        $("#modalMultiFelloHarga").val("0");
        $("#modalMultiFelloJumlahUang").val("0");
        $("#modalMultiFelloTotalBelanja").text("0");
        $("#modalMultiFelloTotalItemBayar").text("0");
        $("#modalMultiFelloTotalBayar").text("0");
        $("#modalMultiFelloKembalian").text("0");
        $("#modalMultiFelloProduct").val("");
        $("#modalMultiFelloKodeLayanan").val("");
        $("#modalMultiFelloTipeLayanan").val("");
    }

    function felloLibrary(idx, cmd) {
        var a = "";
        if (cmd == "plnPostPaid") {
            if (idx == "mti") {
                a = "mti_Message Type Identification_bahasa indonesia";
            } else if (idx == "bit2" || idx == "2") {
                a = "bit2_Primary Account Number_bahasa indonesia";
            } else if (idx == "bit3" || idx == "3") {
                a = "bit3_Processing Code_bahasa indonesia";
            } else if (idx == "bit4" || idx == "4") {
                a = "bit4_Transaction Amount_bahasa indonesia";
            } else if (idx == "bit7" || idx == "7") {
                a = "bit7_Transmission Date Time_bahasa indonesia";
            } else if (idx == "bit11" || idx == "11") {
                a = "bit11_ STAN _bahasa indonesia";
            } else if (idx == "bit12" || idx == "12") {
                a = "bit12_Local Transaction Time_bahasa indonesia";
            } else if (idx == "bit13" || idx == "13") {
                a = "bit13_Local Transaction Date_bahasa indonesia";
            } else if (idx == "bit15" || idx == "15") {
                a = "bit15_Settlement Date_bahasa indonesia";
            } else if (idx == "bit18" || idx == "18") {
                a = "bit18_Merchant Type_bahasa indonesia";
            } else if (idx == "bit32" || idx == "32") {
                a = "bit32_Acquiring Institution Identification Code_bahasa indonesia";
            } else if (idx == "bit37" || idx == "37") {
                a = "bit37_Retrieval Reference Number_bahasa indonesia";
            } else if (idx == "bit39" || idx == "39") {
                a = "bit39_Response Code_bahasa indonesia";
            } else if (idx == "bit41" || idx == "41") {
                a = "bit41_Terminal ID_bahasa indonesia";
            } else if (idx == "bit42" || idx == "42") {
                a = "bit42_Acceptor Identification_bahasa indonesia";
            } else if (idx == "bit48" || idx == "48") {
                a = "bit48_Additional DataPrivate_bahasa indonesia";
            } else if (idx == "bit49" || idx == "49") {
                a = "bit49_Transaction Currency Code_bahasa indonesia";
            }
        }
        var res = a.split("_")
        return res[1];
    }

    function felloLibraryMesage(bit, bitval, bitremark, cmd) {
        var a = "";
        //transaksi payment dan inquery
        if (cmd == "felloPlnPostPaid" || cmd == "felloPlnNonTagLisInquery") {
            if (bit == "bit39") {
                if (bitval == "00") {
                    a = "Approved untuk Payment_TRANSAKSI SUKSES_Sukses";
                } else if (bitval == "06") {
                    a = "Unknown Error_TRANSAKSI GAGAL_Suspect";
                } else if (bitval == "14") {
                    a = "IDPEL YANG ANDA MASUKKAN SALAH MOHON TELITI KEMBALI_TRANSAKSI GAGAL_Gagal";
                } else if (bitval == "22") {
                    a = "Unpaid Transaction_TRANSAKSI GAGAL_Suspect";
                } else if (bitval == "34") {
                    a = "TAGIHAN SUDAH TERBAYAR_TAGIHAN SUDAH TERBAYAR_Gagal";
                } else if (bitval == "82") {
                    a = "TAGIHAN BULAN " + bitremark + " BELUM TERSEDIA_TRANSAKSI GAGAL_Gagal";
                } else if (bitval == "22") {
                    a = "Unpaid Transaction_TRANSAKSI GAGAL_Suspect";
                } else if (bitval == "90") {
                    a = "Transaksi tidak bisa dilakukan karena cut off sedang dalam progress_TRANSAKSI GAGAL_Suspect";
                } else if (bitval == "90") {
                    a = "Transaksi tidak bisa dilakukan karena cut off sedang dalam progress_TRANSAKSI GAGAL_Suspect";
                } else if (bitval == "94") {
                    a = "Reversal telah dilakukan_TRANSAKSI GAGAL_Suspect";
                } else if (bitval == "96") {
                    a = "Reversal gagal,tidak ada pembayaran untuk no.registrasi ini_TRANSAKSI GAGAL_Gagal";
                } else if (bitval == "97") {
                    a = "Invalid Reversal, Waktu pembatalan (reversal) Telah Melampui batas waktu yang ditentukan_TRANSAKSI GAGAL_Gagal";
                } else if (bitval == "98") {
                    a = "Invalid Reference Number, Nomor Referensi tidak sama, dipergunakan saat meresponse proses payment atau reversal_TAGIHAN GAGAL_Gagal";
                } else if (bitval == "99") {
                    a = "Invalid Amount Bill, Rupiah tagihan tidak sama, dipergunakan saat meresponse proses payment atau reversal_TRANSAKSI GAGAL_Gagal";
                } else if (bitval == "58") {
                    a = "Proses transaksi tidak bisa dilakukan karena terdapat ketidakcocokan data_TRANSAKSI GAGAL_Gagal";
                } else if (bitval == "61") {
                    a = "Deposit tidak mencukupi untuk melakukan transaksi_TRANSAKSI GAGAL_Gagal";
                } else if (bitval == "90") {
                    a = "KONSUMEN IDPEL " + bitremark + " DIBLOKIR HUBUNGI PLN_TRANSAKSI GAGAL_Gagal";
                } else {
                    a = "Error Code: " + bitval + " _GAGAL ERROR CODE: " + bitval + "_Gagal";
                }
            }
        } else if (cmd == "felloPlnPrepaidInquery") {
            if (bit == "bit39") {
                if (bitval == "00") {
                    a = "Approved untuk Inquery _TRANSAKSI SUKSES_Sukses";
                } else if (bitval == "06") {
                    a = "Unknown Error_TRANSAKSI GAGAL_ Gagal";
                } else if (bitval == "09") {
                    a = "NOMOR METER/IDPEL YANG ANDA MASUKKAN SALAH, MOHON TELITI KEMBAL _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "13") {
                    a = "Application Server is Down _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "14") {
                    a = "IDPEL YANG ANDA MASUKKAN SALAH, MOHON TELITI KEMBALI _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "16") {
                    a = "KONSUMEN " + bitremark + " DIBLOKIR HUBUNGI PLN _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "17") {
                    a = "NOMINAL PEMBELIAN  TIDAK TERDAFTAR _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "18") {
                    a = "Request Timeout _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "31") {
                    a = "Id Bank masih belum didaftarkan _ TRANSAKSI GAGAL_ Gagal";
                } else if (bitval == "32") {
                    a = "Switcher Id belum terdaftar _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "33") {
                    a = "Produk belum terdaftar _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "47") {
                    a = "TOTAL KWH MELEBIHI BATAS MAKSIMUM _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "61") {
                    a = "SALDO ANDA TIDAK MENCUKUPI _ TAGIHAN GAGAL _ Gagal";
                } else if (bitval == "63") {
                    a = "KONSUMEN " + bitremark + "  DIBLOKIR HUBUNGI PLN _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "75") {
                    a = "PEMBELIAN MINIMAL RP. 20 RIBU _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "77") {
                    a = "NOMOR METER YANG ANDA MASUKKAN SALAH,MOHON TELITI KEMBALI _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "90") {
                    a = "Transaksi tidak bisa dilakukan karena cut off sedang dalam progress _ TAGIHAN GAGAL _ Gagal";
                } else if (bitval == "96") {
                    a = "Advice tidak berhasil,tidak ada purchase _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "98") {
                    a = "Error, PLN reference number tidak sesuai dengan PLN Refnum saat Inquery _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "31") {
                    a = "Kode bank belum terdaftar,silahkan hubungin tim Jatelindo _ TAGIHAN GAGAL _ Gagal";
                } else if (bitval == "73") {
                    a = "Kode produk belum terdaftar di TID, silahkan hubungi tim Jatelindo _ TRANSAKSI GAGAL _ Gagal";
                } else {
                    a = "Error Code: " + bitval + " _GAGAL ERROR CODE: " + bitval + "_Gagal";
                }
            }
        } else if (cmd == "felloPlnNonTagLisInquery") {
            if (bit == "bit39") {
                if (bitval == "00") {
                    a = "Approved untuk Inquery _TRANSAKSI SUKSES_Sukses";
                } else if (bitval == "06") {
                    a = "Unknown Error, bisa berupa error tekhnis atau error lainnya _TRANSAKSI GAGAL_ Gagal";
                } else if (bitval == "14") {
                    a = "NOMOR REGISTRASI YANG ANDA MASUKKAN SALAH, MOHON TELITI KEMBALI. _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "15") {
                    a = "NOMOR REGISTRASI YANG ANDA MASUKKAN SALAH, MOHON TELITI KEMBALI. _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "16") {
                    a = "KONSUMEN " + bitremark + " DIBLOKIR HUBUNGI PLN _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "22") {
                    a = "Unpaid Transaction, dipergunakan untuk meresponse pesan payment reversal, jika data pembayaran yang ingin dibatalkan masih belum terbayarkan. _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "34") {
                    a = "TAGIHAN SUDAH TERBAYAR _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "48") {
                    a = "NOMOR REGISTRASI KADALUWARSA, MOHON HUBUNGI PLN _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "61") {
                    a = "Deposit tidak mencukupi untuk melakukan transaksi _ TRANSAKSI GAGAL_ Gagal";
                } else if (bitval == "63") {
                    a = "KONSUMEN " + bitremark + " DIBLOKIR HUBUNGI PLN _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "77") {
                    a = "NOMOR REGISTRASI YANG ANDA MASUKKAN SALAH, MOHON TELITI KEMBALI. _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "94") {
                    a = "Reversal telah dilakukan _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "96") {
                    a = "Reversal gagal,tidak ada pembayaran untuk no.registrasi ini _ TAGIHAN GAGAL _ Gagal";
                } else if (bitval == "97") {
                    a = "Waktu reversal telah melampui batas waktu yang ditentukan _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "98") {
                    a = "Invalid Reference Number, Nomor Referensi tidak sama, dipergunakan saat meresponse proses payment _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "99") {
                    a = "Invalid Amount Bill, Rupiah tagihan tidak sama. _ TRANSAKSI GAGAL _Gagal";
                } else if (bitval == "89") {
                    a = "Payment melebihi batas waktu yang ditentukan _ TAGIHAN GAGAL _ Gagal";
                } else if (bitval == "58") {
                    a = "Transaksi Payment tidak diperbolehkan _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "88") {
                    a = "Kode produk belum terdaftar digateway, silahkan hubungi tim Jatelindo _ TRANSAKSI GAGAL _ Gagal";
                } else if (bitval == "31") {
                    a = "Kode bank belum terdaftar,silahkan hubungin tim Jatelindo _ TAGIHAN GAGAL _ Gagal";
                } else if (bitval == "73") {
                    a = "Kode produk belum terdaftar di TID, silahkan hubungi tim Jatelindo _ TRANSAKSI GAGAL _ Gagal";
                } else {
                    a = "Error Code: " + bitval + " _GAGAL ERROR CODE: " + bitval + "_Gagal";
                }
            }
        } else if (cmd == "felloPlnPostPaidReversal") {
            if (bitval == "00") {
                a = " Transaksi Reversal Berhasil_TRANSAKSI SUKSES_Sukses";
            } else if (bitval == "94") {
                a = "Reversal telah dilakukan_TRANSAKSI GAGAL_Suspect";
            } else if (bitval == "96") {
                a = "Reversal gagal,tidak ada pembayaran untuk no.registrasi ini_TRANSAKSI GAGAL_Gagal";
            } else if (bitval == "97") {
                a = "Invalid Reversal, Waktu pembatalan (reversal) Telah Melampui batas waktu yang ditentukan_TRANSAKSI GAGAL_Gagal";
            } else if (bitval == "98") {
                a = "Invalid Reference Number, Nomor Referensi tidak sama, dipergunakan saat meresponse proses payment atau reversal_TAGIHAN GAGAL_Gagal";
            } else if (bitval == "99") {
                a = "Invalid Amount Bill, Rupiah tagihan tidak sama, dipergunakan saat meresponse proses payment atau reversal_TRANSAKSI GAGAL_Gagal";
            } else if (bitval == "58") {
                a = "Proses transaksi tidak bisa dilakukan karena terdapat ketidakcocokan data_TRANSAKSI GAGAL_Gagal";
            } else if (bitval == "61") {
                a = "Deposit tidak mencukupi untuk melakukan transaksi_TRANSAKSI GAGAL_Gagal";
            } else if (bitval == "90") {
                a = "KONSUMEN IDPEL ...... DIBLOKIR HUBUNGI PLN_TRANSAKSI GAGAL_Gagal";
            }
        } else if (cmd == "felloMultiBillerInq") {
            if (bitval == "00") {
                a = " Sukses_ TRANSAKSI SUKSES _ SUKSES";
            } else if (bitval == "03") {
                a = "Invalid Merchant Type _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "06") {
                a = "Unknown error _ TRANSAKSI GAGAL _ SUSPECT";
            } else if (bitval == "07") {
                a = "Transaksi gagal, Silahkan ulangi lagi _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "09") {
                a = "Request in progress _ TRANSAKSI GAGAL _ SUSPECT";
            } else if (bitval == "12") {
                a = "Invalid transaction _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "13") {
                a = "Application Server is down _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "14") {
                a = "Unidentified / invalid Phone / ID number _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "18") {
                a = "Request timeout _ TRANSAKSI GAGAL _ SUSPECT";
            } else if (bitval == "21") {
                a = "Unknown MTI / Jenis pesan tidak disupport oleh biller. _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "22") {
                a = "Unpaid transaction, jika pesan reversal dikirimkan tanpa pelunasan sebelumnya. _ TRANSAKSI GAGAL _ SUSPECT";
            } else if (bitval == "23") {
                a = "Seat already taken / not available. _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "24") {
                a = "Cant cancel payment, ticket has been printed or ticket can’t be reversed. _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "25") {
                a = "Cant update pax, ticket has been paid _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "26") {
                a = "Data penumpang / pembeli tidak lengkap / invalid _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "27") {
                a = "Jadwal tidak tersedia. _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "30") {
                a = "ISO packet composition failure _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "32") {
                a = "ID Switcher belum terdaftar _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "33") {
                a = "Kode biller / produk belum terdaftar _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "34") {
                a = "Transaksi sudah lunas _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "35") {
                a = "Sudah Terdaftar _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "43") {
                a = "blocked / expired phone number _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "44") {
                a = "Voucher out of stock _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "55") {
                a = "Kesalahan Security pada Biller _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "58") {
                a = "Transaction not permitted to terminal _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "61") {
                a = "Deposit tidak mencukupi / invalid _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "73") {
                a = "Unable to route transaction _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "88") {
                a = "Too close to previous transactions _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "96") {
                a = "System malfunction _ TRANSAKSI GAGAL _ GAGAL";
            } else if (bitval == "98") {
                a = "Invalid reference number _ TRANSAKSI GAGAL _ GAGAL";
            }

        }
        var res = a.split("_")
        if (bitval == "00") {
            //salert(res[1], "success", "Success");
            $("#modalPpobFelloJumlahUang").prop('readonly', false);
        } else {
            salert(res[0], "warning", res[1]);
            if (cmd == "felloMultiBillerInq") {
                $("#dataMultiBillerFello").append("Remark : <span class='font-wieght-bold text-danger'>" + res[0] + "</span> <br>");
            } else {
                $("#dataPlnPostPaidFello").append("Remark : <span class='font-wieght-bold text-danger'>" + res[0] + "</span> <br>");
                $("#modalPpobFelloJumlahUang").prop('readonly', true);
            }
        }
    }



    function selFelloProductFilter() {
        var modalMultiFelloKodeLayanan = $("#modalMultiFelloKodeLayanan").val();
        var modalMultiFelloTipeLayanan = $("#modalMultiFelloTipeLayanan").val();

        if ($("#modalMultiFelloTipeLayanan").val() == "06") {
            $("#modalMultiFelloNomor").val("081219991500"); //sementara ganti 00 ujung nya
        } else if ($("#modalMultiFelloTipeLayanan").val() == "07") {
            $("#modalMultiFelloNomor").val("00000111");
        }

        if (modalMultiFelloKodeLayanan != "" && modalMultiFelloTipeLayanan != "") {
            $.post('https://api-rki.rkicoop.co.id/api/fello', {
                cmd: "selMasterFello",
                tipe: modalMultiFelloTipeLayanan,
                kode_layanan: modalMultiFelloKodeLayanan
            }, function (data, status) {
                //alert("Data: " + data + "\nStatus: " + status);
                const myArr = JSON.parse(data);
                var b = "";
                var y = document.getElementById("modalMultiFelloProduct");
                $("#modalMultiFelloProduct").empty();
                if (myArr.length == 0) {
                    //salert("Tidak Ada Data", 'warning', 'Warning');
                } else {
                    //<option value="0007_20175">Simpati 20K</option>
                    for (var i = 0; i < myArr.length; i += 1) {
                        var option = document.createElement("option");
                        option.text = myArr[i]["product_name"];
                        option.value = myArr[i]["tipe"] + "_" + myArr[i]["kode_layanan"] + "_" + myArr[i]["kode_biller"] + "_" + myArr[i]["product_id"] + "_" + myArr[i]["harga"];
                        y.add(option, y[i]);
                    }
                }
            }).fail(function (e) {
                console.log(e);
                salert("Error: " + e, 'warning', 'Warning');
            });
        }
    }

    function felloMultiBiller(tipe, act) {
        var belanja = $("#modalMultiFelloHarga").val();
        var jumlahUang = $("#modalMultiFelloJumlahUang").val();

        if (parseInt(jumlahUang) - parseInt(belanja) < 0) {
            salert("Uang Pembayaran Lebih Kecil", "warning", "Warning");
        } else if (belanja < 1) {
            salert("Tagihan Terlalu Kecil", "warning", "Warning");
        } else if (jumlahUang == "" || jumlahUang == "") {
            salert("Isi Jumlah Uang Dahulu", "warning", "Warning");
        } else {

            if ($("#modalMultiFelloKodeLayanan").val() == "3") {
                var dateRequest = new Date().toUTCString();
                var a = $("#modalMultiFelloProduct").val();
                //alert(a);
                var kodelayanan = a.split("_");
                var cmd = "felloMultiBiller";

                var d = new Date();
                var mnth = parseInt(d.getMonth()) + 1;
                var nowe = d.getFullYear() + "-" + mnth + "-" + d.getDate() + " T " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds() + "." + d.getMilliseconds();
                var ppob_id = "MULTI-" + d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
                var nama_customer = "";
                var amount = $('#modalMultiFelloHarga').val();
                var real_amount = $('#modalMultiFelloHarga').val();
                var dibayar = $('#modalMultiFelloJumlahUang').val();
                var kembalian = parseInt(dibayar) - parseInt(amount);
                var total_item = $('#modalMultiFelloTotalItemBayar').text();
                var tipe_bayar = $('#modalMultiFelloTypeBayar').val();
                var total_belanja = $("#modalMultiFelloHarga").val();
                var kode_title = "";
                var kode_bayar = "";
                var tipe_transaksi = "";
                var ket = ketWallet;


                $.ajax({
                    url: 'https://api-rki.rkicoop.co.id/api/fello',
                    type: 'POST',
                    data: {
                        "cmd": cmd,
                        "act": act,
                        "date": dateRequest,

                        kop_id: $("#login_kop_id").val(),
                        userIns: $('#login_userId').val(),
                        no_anggota: $('#login_userId').val(),
                        productCode: kodelayanan[0] + kodelayanan[1] + kodelayanan[2] + kodelayanan[3],
                        account: $("#modalMultiFelloNomor").val(),
                        ppob_id: ppob_id,
                        nama_customer: nama_customer,
                        amount: amount,
                        real_amount: real_amount,
                        dibayar: dibayar,
                        kembalian: kembalian,
                        total_item: total_item,
                        tipe: tipe_bayar,
                        tipe_transaksi: tipe_transaksi,
                        total_belanja: total_belanja,
                        kode_title: kode_title,
                        kode_bayar: kode_bayar,
                        ket: ket,
                        transactionId: ketWallet,
                        nowe: nowe,
                        param: felloDataInq,

                        mti_MessageTypeIdentification: "0200",
                        //bit2_PrimaryAccountNumber: $("#modalMultiFelloTipeLayanan").val() + $("#modalMultiFelloKodeLayanan").val() + "001",
                        bit2_PrimaryAccountNumber: kodelayanan[0] + kodelayanan[1] + kodelayanan[2],
                        bit3_ProcessingCode: '171000',//advice 172000
                        bit4_TransactionAmount: kodelayanan[4],
                        bit7_TransmissionDateTime: "",
                        bit11_STAN: "",
                        bit12_LocalTransactionTime: "",
                        bit13_LocalTransactionDate: "",
                        bit15_SettlementDate: "",
                        bit18_MerchantType: "",
                        bit32_AcquiringInstitutionIdentificationCode: "",
                        bit37_RetrievalReferenceNumber: "",
                        //bit39_ResponseCode:,
                        bit41_TerminalID: "",
                        bit42_AcceptorIdentification: "",
                        bit48_AdditionalDataPrivate: kodelayanan[3] + $("#modalMultiFelloNomor").val(),
                        bit49_TransactionCurrencyCode: "",
                        bit63_DataLoket: ""
                    }, dataType: 'json',
                    success: function (data) {
                        //console.log(data);
                        const myArr = data;
                        if (myArr.length == 0) {
                            salert("Tidak Ada Data", 'warning', 'Warning');
                        } else {
                            if (myArr["39"] == "00") {
                                salert("Transaksi Berhasil ", "success", "Success");
                                var idx = $("#dataMultiBillerFello").html();
                                printStruckPPOBMulti(myArr["48"]);
                                $("#modalMultiFelloNomor").prop("readonly", false);
                                $("#modalMultiFelloTypeBayar").prop('selectedIndex', 0);
                                $("#modalMultiFelloTipeLayanan").prop("disabled", false);
                                $("#modalMultiFelloKodeLayanan").prop("disabled", false);
                                $('#modalMultiFelloProduct').empty().append('<option selected="selected" value="">Pilih</option>');
                                $("#dataMultiBillerFello").html();
                                clearFelloMulti();
                            } else {
                                salert("Gagal Dengan Error Code:" + myArr["39"], 'error', 'Gagal');
                            }
                        }
                    }
                }).fail(function (e) {
                    salert("Error Code: " + e.status, 'error', 'Error');
                });
            } else if ($("#modalMultiFelloKodeLayanan").val() == "4") {

                var dateRequest = new Date().toUTCString();
                var a = $("#modalMultiFelloProduct").val();
                var kodelayanan = a.split("_");

                var d = new Date();
                var mnth = parseInt(d.getMonth()) + 1;
                var nowe = d.getFullYear() + "-" + mnth + "-" + d.getDate() + " T " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds() + "." + d.getMilliseconds();
                var ppob_id = "MULTI-" + d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
                var nama_customer = "";
                var amount = $('#modalMultiFelloHarga').val();
                var real_amount = $('#modalMultiFelloHarga').val();
                var dibayar = $('#modalMultiFelloJumlahUang').val();
                var kembalian = parseInt(dibayar) - parseInt(amount);
                var total_item = $('#modalMultiFelloTotalItemBayar').text();
                var tipe_bayar = $('#modalMultiFelloTypeBayar').val();
                var total_belanja = $("#modalMultiFelloHarga").val();
                var kode_title = "";
                var kode_bayar = "";
                var tipe_transaksi = "";
                var ket = "";


                $.ajax({
                    url: 'https://api-rki.rkicoop.co.id/api/fello',
                    type: 'POST',
                    data: {
                        "cmd": "felloMultiBillerPostPaid",
                        "act": "felloMultiPostPaidPayment",
                        "date": dateRequest,

                        kop_id: $("#login_kop_id").val(),
                        userIns: $('#login_userId').val(),
                        no_anggota: $('#login_userId').val(),
                        productCode: kodelayanan[0] + kodelayanan[1] + kodelayanan[2] + kodelayanan[3],
                        account: $("#modalMultiFelloNomor").val(),
                        ppob_id: ppob_id,
                        nama_customer: nama_customer,
                        amount: amount,
                        real_amount: real_amount,
                        dibayar: dibayar,
                        kembalian: kembalian,
                        total_item: total_item,
                        tipe: tipe_bayar,
                        tipe_transaksi: tipe_transaksi,
                        total_belanja: total_belanja,
                        kode_title: kode_title,
                        kode_bayar: kode_bayar,
                        ket: ket,
                        transactionId: ketWallet,
                        nowe: nowe,
                        param: felloDataInq,

                        mti_MessageTypeIdentification: "0200",
                        bit2_PrimaryAccountNumber: felloBit2,//011
                        bit3_ProcessingCode: "170000",
                        bit4_TransactionAmount: $("#modalMultiFelloHarga").val(),
                        bit7_TransmissionDateTime: "",
                        bit11_STAN: felloBit11,
                        bit12_LocalTransactionTime: "",
                        bit13_LocalTransactionDate: "",
                        bit15_SettlementDate: "",
                        bit18_MerchantType: "",
                        bit32_AcquiringInstitutionIdentificationCode: "",
                        bit37_RetrievalReferenceNumber: "",
                        //bit39_ResponseCode:,
                        bit41_TerminalID: "",
                        bit42_AcceptorIdentification: "",
                        bit48_AdditionalDataPrivate: felloBit48,//felloMultiDataInq
                        bit49_TransactionCurrencyCode: "",
                        bit63_DataLoket: ""
                    }, dataType: 'json',
                    success: function (data) {
                        //console.log(data);
                        const myArr = data;
                        if (myArr.length == 0) {
                            salert("Tidak Ada Data", 'warning', 'Warning');
                        } else {
                            if (myArr["39"] == "00") {
                                salert("Transaksi Berhasil ", 'success', 'Success');
                                //alert("PDAM");
                                printStruckPPOBMulti(myArr["48"]);
                                clearFelloMulti();
                            } else {
                                //salert("Gagal Dengan Error Code:" + myArr["39"], 'error', 'Gagal');
                                felloLibraryMesage("bit39", myArr["39"], "", "felloMultiBillerInq");
                            }
                        }
                    }
                }).fail(function (e) {
                    salert("Error Code: " + e.status, 'error', 'Error');
                });
            }
        }
    }




    function hideModalPPOB() {
        $("#modalPPOB").modal("hide");
    }
    function hideModalOther() {
        $("#modalOther").modal("hide");
    }

    function getNUmber() {
        var a = document.getElementsByName("tab-idx");
        if (a[0].className.search("active") > 0) {
            salert("Not Setting Tab 1!", 'warning', 'Warning');

        } else if (a[1].className.search("active") > 0) {
            $.post("https://api-rki.rkicoop.co.id/api/master/QueryMaster", {
                cmd: "selCodeDetailNomor",
                kop_id: $("#login_kop_id").val(),
                masterCode: $("#t2_masterCode").val()
            },
                function (data, status) {
                    //alert("Data: " + data + "\nStatus: " + status);
                    const myArr = JSON.parse(data);
                    if (myArr.length == 0) {
                        salert("Tidak Ada Data", 'warning', 'Warning');
                    } else {
                        $('#t2_detailCode').val(myArr[0]["noCodeDetail"]);
                        $('#t2_detailCode').attr('readonly', 'readonly');
                    }
                }).fail(function (e) {
                    console.log(e);
                    salert("Error: " + e, 'error', 'Error');
                });
        }
    }

    function changeModul(idx) {
        var a = "";
        if (idx == "PPOB") {
            a = $('#modalPpobFello').html();
        } else if (idx == "TOPUP") {
            a = $('#modalTopUpFello').html();
            cekBinding();
        } else {
            a = $('#modalMultiFello').html();
        }
        $('#posItemPpob').html(a);
    }

    function getBalance() {
        var dateRequest = new Date().toUTCString();
        swalStartLoading();
        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/fello',
            type: 'POST',
            data: {
                "cmd": "felloSignatureAuth",
                "date": dateRequest,
                kop_id: $("#login_kop_id").val(),
                userId: $('#login_userId').val()
            }, dataType: 'json',
            success: function (data) {
                //console.log(data);
                if (data.length == 0) {
                    salert("Tidak Ada Data", 'warning', 'Warning');
                } else {
                    swalFinishLoading();
                    felloSignatureBalInq = "";
                    felloAccessToken = data.accessToken;
                }
            }
        });
    }


    function cekPayment(idx) {
        if (idx == "felloMultiBiller") {
            if ($("#modalMultiFelloTypeBayar").val() == "000003") {
                var dateRequest = new Date().toUTCString();
                $.ajax({
                    url: 'https://api-rki.rkicoop.co.id/api/fello',
                    type: 'POST',
                    data: {
                        "cmd": "felloSignatureAuth",
                        "date": dateRequest,
                        kop_id: $("#login_kop_id").val(),
                        userId: $('#login_userId').val()
                    }, dataType: 'json',
                    success: function (data) {
                        //console.log(data);
                        if (data.length == 0) {
                            salert("Tidak Ada Data", 'warning', 'Warning');
                        } else {
                            swalFinishLoading();
                            felloSignatureBalInq = "";
                            felloAccessToken = data.accessToken;
                            //$("#btnPaymentMultiBiller").hide();
                            //$("#btnCekPaymentMultiBiller").show();
                            directDebitH2H();
                        }
                    }
                });
            } else {
                felloMultiBiller('', 'felloMultiBiller');
            }
        } else if (idx == "felloPlnPostPaidPayment") {
            if ($("#modalPpobFelloTypeBayar").val() == "000003") {
                var dateRequest = new Date().toUTCString();
                $.ajax({
                    url: 'https://api-rki.rkicoop.co.id/api/fello',
                    type: 'POST',
                    data: {
                        "cmd": "felloSignatureAuth",
                        "date": dateRequest,
                        kop_id: $("#login_kop_id").val(),
                        userId: $('#login_userId').val()
                    }, dataType: 'json',
                    success: function (data) {
                        //console.log(data);
                        if (data.length == 0) {
                            salert("Tidak Ada Data", 'warning', 'Warning');
                        } else {
                            swalFinishLoading();
                            felloSignatureBalInq = "";
                            felloAccessToken = data.accessToken;
                            directDebitH2H();
                        }
                    }
                }).fail(function (e) {
                    salert("Error Code: " + e.status, 'error', 'Error');
                });
            } else {
                salertOptionFunction('Apakah Anda Yakin ?', 'question', 'Question', "nextPayment", "");
                //felloPlnPostPaid('', 'felloPlnPostPaidPayment');
            }
        }
    }

    function nextPayment() {
        felloPlnPostPaid('', 'felloPlnPostPaidPayment');
    }

    function cekSaldo() {
        var dateRequest = new Date().toUTCString();
        swalStartLoading();
        var d = new Date();
        var pktr = d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
        var xExternalId = pktr + Math.round((new Date()).getTime() / 1000);
        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/fello',
            type: 'POST',
            data: {
                kop_id: $("#login_kop_id").val(),
                userId: $('#login_userId').val(),
                "cmd": "felloBalanceInquery",
                "date": dateRequest,
                "xExternalId": xExternalId,
                "token": felloAccessToken,
            }, dataType: 'json',
            success: function (data) {
                if (data.length > 0) {
                    salert("Tidak Ada Data", 'warning', 'Warning');
                } else {
                    //console.log(data);
                    if (data.responseMessage == "Successful") {
                        $('#modalTopUpFelloName').text(data.name);
                        $('#modalTopUpFelloSaldo').text(parseInt(data.accountInfo["0"].amount.value).toLocaleString());
                        $('#modalTopUpFelloNoAcount').text(data.accountNo);
                        swalFinishLoading();
                    } else {
                        salert(data.responseDescription + " : " + data.responseError, 'error', 'Error');
                    }
                }
            }
        }).fail(function (e) {
            salert("Error Code: " + e.status, 'error', 'Error');
        });;
    }

    function directDebitH2H() {
        var dateRequest = new Date().toUTCString();
        var d = new Date();
        var pktr = d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
        var xExternalId = pktr + Math.round((new Date()).getTime() / 1000);
        ketWallet = xExternalId;
        swalStartLoading();
        var amount = 0;

        if ($("#modalPpobFelloKodeLayanan").val() == "3" || $("#modalPpobFelloKodeLayanan").val() == "4" || $("#modalPpobFelloKodeLayanan").val() == "5") {
            amount = $("#modalPpobFelloJumlahUang").val();
        } else {
            amount = $("#modalMultiFelloJumlahUang").val();
        }
        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/fello',
            type: 'POST',
            data: {
                kop_id: $("#login_kop_id").val(),
                userId: $('#login_userId').val(),
                "cmd": "directDebitH2H",
                "date": dateRequest,
                "xExternalId": xExternalId,
                "token": felloAccessToken,
                "amount": amount,
            }, dataType: 'json',
            success: function (data) {
                console.log(data);
                if (data.length > 0) {
                    salert("Tidak Ada Data", 'warning', 'Warning');
                } else {
                    if (data.responseMessage == "Successful") {
                        //window.open(data.webRedirectUrl, "Verifikasi", "toolbar=yes,scrollbars=yes,resizable=yes,top=500,left=500,width=400,height=400");
                        $('#modalFelloFrameText').text("Bayar Dengan Fello ");
                        $('#modalBayarFelloFrame').attr('src', data.webRedirectUrl);
                        openModalBayarFello();
                        if ($("#modalPpobFelloKodeLayanan").val() == "3" || $("#modalPpobFelloKodeLayanan").val() == "4" || $("#modalPpobFelloKodeLayanan").val() == "5") {
                            $("#btnPaymentPln").hide();
                            $("#btnCekPaymentPln").show();
                        } else {
                            $("#btnPaymentMultiBiller").hide();
                            $("#btnCekPaymentMultiBiller").show();
                        }
                        swalFinishLoading();
                    } else {
                        salert("Error : " + data.responseMessage, 'warning', 'Warning');
                    }
                }
            }
        });

    }

    function Binding(idx) {
        var dateRequest = new Date().toUTCString();
        swalStartLoading();
        var d = new Date();
        var pktr = d.getFullYear() + "" + d.getMonth() + "" + d.getDate() + "" + d.getHours() + "" + d.getMinutes() + "" + d.getSeconds() + d.getMilliseconds();
        var xExternalId = pktr + Math.round((new Date()).getTime() / 1000);
        var sts = "";
        if (idx == "Binding") {
            sts = "1";
        } else {
            sts = "0";
        }
        $.ajax({
            url: 'https://api-rki.rkicoop.co.id/api/fello',
            type: 'POST',
            data: {
                kop_id: $("#login_kop_id").val(),
                userId: $('#login_userId').val(),
                "cmd": "felloAccountBinding",
                "date": dateRequest,
                "xExternalId": xExternalId,
                //"token": felloAccessToken,
                "sts": sts
            }, dataType: 'json',
            success: function (data) {
                if (data.length > 0) {
                    salert("Tidak Ada Data", 'warning', 'Warning');
                } else {
                    if (data.responseMessage == "Successful") {
                        //window.open(data.additionalInfo.bindingPageUrl, "Verifikasi", "toolbar=yes,scrollbars=yes,resizable=yes,top=500,left=500,width=400,height=400");
                        $('#modalFelloFrameText').text("Bunding & Unbinding Fello ");
                        $('#modalBayarFelloFrame').attr('src', data.additionalInfo.bindingPageUrl);
                        openModalBayarFello();
                        swalFinishLoading();
                    } else {
                        salert(data.responseMessage + " : " + data.responseDataFello.status.description, 'error', 'Error');
                    }
                    //console.log(data);
                }
            }
        });
    }

    function backTampilan() {

        var a = "";
        a = a + "<div class='col-6 col-sm-6 col-md-2 col-lg-2 mt-2' ";
        a = a + "    style='cursor:pointer;' ";
        a = a + "    onclick=\"changeModul('PPOB')\"> ";
        a = a + "    <div style='box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;margin:auto' ";
        a = a + "        class='rounded'> <img src='/template/files/assets/images/product/TOKEN_PLN.jpg' ";
        a = a + "            class='rounded ' style='width:100%;' title='TOKEN PLN'> <br> ";
        a = a + "        <div class='mt-1 text-center'>PLN </div> ";
        a = a + "        <div class=''> &nbsp;</div> ";
        a = a + "    </div> ";
        a = a + "</div> ";

        a = a + "<div class='col-6 col-sm-6 col-md-2 col-lg-2 mt-2' ";
        a = a + "    style='cursor:pointer;' ";
        a = a + "    onclick=\"changeModul('MULTI')\"> ";
        a = a + "    <div style='box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;margin:auto' ";
        a = a + "        class='rounded'> <img src='/template/files/assets/images/product/MULTIBILLER.jpg' height='150px' ";
        a = a + "            class='rounded ' style='width:100%;' title='TOKEN PLN'> <br> ";
        a = a + "        <div class='mt-1 text-center'>MULTI BILLER</div> ";
        a = a + "        <div class=''> &nbsp;</div> ";
        a = a + "    </div> ";
        a = a + "</div> ";

        a = a + "<div class='col-6 col-sm-6 col-md-2 col-lg-2 mt-2' ";
        a = a + "    style='cursor:pointer;' ";
        a = a + "    onclick=\"changeModul('TOPUP')\"> ";
        a = a + "    <div style='box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;margin:auto' ";
        a = a + "        class='rounded'> <img src='/template/files/assets/images/product/TOPUP.jpg' ";
        a = a + "            class='rounded ' style='width:100%;' title='TOP UP SALDO'> <br> ";
        a = a + "        <div class='mt-1 text-center'>TOP UP SALDO</div> ";
        a = a + "        <div class=''> &nbsp;</div> ";
        a = a + "    </div> ";
        a = a + "</div> ";

        $('#posItemPpob').html(a);
    }

    function pilihFelloBalance() {
        if ($('#modalMultiFelloTypeBayar').val() == "000003") {
            $('#modalMultiFelloJumlahUang').val($('#modalMultiFelloHarga').val());
            $('#modalMultiFelloJumlahUang').prop("readonly", true);
            toMoneyFelloPpob('MULTI');
        } else {
            //$('#modalMultiFelloJumlahUang').val($('#modalMultiFelloHarga').val());
            $('#modalMultiFelloJumlahUang').prop("readonly", false);
        }
    }

    function pilihFelloBalancePln() {
        if ($('#modalPpobFelloTypeBayar').val() == "000003") {
            $('#modalPpobFelloJumlahUang').val($('#modalPpobFelloTagihan').val());
            $('#modalPpobFelloJumlahUang').prop("readonly", true);
            toMoneyFelloPpob('PLN');
        } else {
            //$('#modalPpobFelloJumlahUang').val($('#modalMultiFelloHarga').val());
            $('#modalPpobFelloJumlahUang').prop("readonly", false);
        }
    }

</script>


<!-- Tab panes -->
<div class="-content " style="font-family:Calibri">
    <div name="tab-idx" class="tab-pane active" id="ppob" role="tabpanel" style="overflow-y: auto;overflow-x: hidden;">
        <div class="row" id="posItemPpob" style="margin: 0px !important;">

            <!--
                            <div class="col-sm-2 col-md-2 mt-1"
                                style="cursor:pointer;padding-left:5px !important;padding-right:5px !important "
                                onclick="openModalPPOB('PULSA')">
                                <div style="box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;padding-left:1px;padding-right:1px"
                                    class="rounded"> <img src="/template/files/assets/images/product/PULSA.jpg"
                                        class="rounded " style="width:100%;" title="ISI PULSA"> <br>
                                    <div class="mt-1"> ISI PULSA</div>
                                    <div class=""> &nbsp;</div>

                                </div>
                            </div>

                            <div class="col-sm-2 col-md-2"
                                style="cursor:pointer;padding-left:5px !important;padding-right:5px !important"
                                onclick="openModalPPOB('PAKETDATA')">
                                <div style="box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;padding-left:1px;padding-right:1px"
                                    class="rounded"> <img src="/template/files/assets/images/product/PAKETDATA.jpg"
                                        class="rounded " style="width:100%;" title="PAKET DATA"> <br>
                                    <div class="mt-1">PAKET DATA</div>
                                    <div class=""> &nbsp;</div>

                                </div>
                            </div>

                            <div class="col-sm-2 col-md-2"
                                style="cursor:pointer;padding-left:5px !important;padding-right:5px !important"
                                onclick="openModalPPOB('PDAM')">
                                <div style="box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;padding-left:1px;padding-right:1px"
                                    class="rounded"> <img src="/template/files/assets/images/product/PDAM.jpg"
                                        class="rounded " style="width:100%;" title="PDAM"> <br>
                                    <div class="mt-1">PDAM</div>
                                    <div class=""> &nbsp;</div>
                                </div>
                            </div>

                            <div class="col-sm-2 col-md-2"
                                style="cursor:pointer;padding-left:5px !important;padding-right:5px !important"
                                onclick="openModalPPOB('PLN')">
                                <div style="box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;padding-left:1px;padding-right:1px"
                                    class="rounded"> <img src="/template/files/assets/images/product/PLN.jpg"
                                        class="rounded " style="width:100%;" title="PLN"> <br>
                                    <div class="mt-1">TAGIHAN PLN</div>
                                    <div class=""> &nbsp;</div>
                                </div>
                            </div>

                            <div class="col-sm-2 col-md-2"
                                style="cursor:pointer;padding-left:5px !important;padding-right:5px !important"
                                onclick="openModalPPOB('TOKEN_PLN')">
                                <div style="box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;padding-left:1px;padding-right:1px"
                                    class="rounded"> <img src="/template/files/assets/images/product/TOKEN_PLN.jpg"
                                        class="rounded " style="width:100%;" title="TOKEN PLN"> <br>
                                    <div class="mt-1">TOKEN PLN</div>
                                    <div class=""> &nbsp;</div>
                                </div>
                            </div>

                            <div class="col-sm-2 col-md-2"
                                style="cursor:pointer;padding-left:5px !important;padding-right:5px !important"
                                onclick="openModalPPOB('TOPUP')">
                                <div style="box-shadow:rgb(0 0 0 / 12%) 0px 1px 6px 0px;border-radius:9px;max-height:250px;max-width:150px;padding-left:1px;padding-right:1px"
                                    class="rounded"> <img src="/template/files/assets/images/product/TOPUP.jpg"
                                        class="rounded " style="width:100%;" title="TOP UP SALDO"> <br>
                                    <div class="mt-1">TOP UP SALDO</div>
                                    <div class=""> &nbsp;</div>
                                </div>
                            </div>
                            -->
            <!--
                            <div class="col-sm-2 col-md-2" style="cursor:pointer;padding-left:5px !important;padding-right:5px !important" onclick="openModalPpobFello('TOKEN_PLN')">
                            -->


        </div>
        <br><br>
    </div>
</div>




<div class="modal " id="modalPPOB">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-success ">
                <span style="font-weight:bold ;" id="modalPPOBModalTitle"> </span> <button type="button" class="close"
                    data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body " style="font-weight:bold;">
                <div class="row">
                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <div class="input-group" style="margin-bottom: 0px !important;margin-top: 5px !important;">
                                <input type="number" class="form-control font-weight-bold" id="modalPPOBNomor"
                                    onkeyup="cekNomor()" placeholder="Nomor Telpon">
                                &nbsp;
                                <div class="input-group-append">
                                    <img width="35px" height="35px" id="imageNomor" alt="" style="display:none;">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <div class="input-group" style="margin-bottom: 0px !important;margin-top: 5px !important;">
                                <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                    id="modalPPOBProvider">
                                    <option value="" selected disabled>PROVIDER......</option>
                                    <option value="INDOSAT">INDOSAT</option>
                                    <option value="TELKOMSEL">TELKOMSEL</option>
                                    <option value="SIMPATI">SIMPATI</option>
                                    <option value="THREE">3</option>
                                    <option value="AXIS">AXIS</option>
                                    <option value="SMARTFREN">SMARTFREN</option>
                                    <option value="XL">XL</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <button class="btn btn-info " id="cariPaket" style="font-weight: bold;width:100%;"
                            onclick="getTokenKaspro('','kasProBillerInquery');">
                            <i class='fa fa-search'> </i>PILIH
                        </button>

                    </div>

                </div>

                <div class="row" id="biilerInq">


                </div>

                <div class="row mt-2">
                    <div class="col-6 col-sm-6">
                        <div class="form-group">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPPOBKodeBayar"
                                placeholder="Kode Bayar">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPPOBPrice"
                                placeholder="Price">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPPOBTitle"
                                placeholder="title">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPPOBTipe"
                                placeholder="Tipe">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPPOBTipeTransaksi"
                                placeholder="Tipe">

                            <input type="number" class="form-control font-weight-bold" id="modalPPOBJumlahUang"
                                placeholder="Jumlah Uang" onkeyup="toMoney2()">
                        </div>
                    </div>

                    <div class="col-6 col-sm-6">
                        <div class="form-group">
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                id="modalPPOBTypeBayar">
                                <option value="" selected disabled>CARA BAYAR</option>
                                <option value="000001">CASH</option>
                                <option value="000002">QRIS</option>
                                <option value="000003">FELLO BALANCE</option>
                            </select>
                        </div>
                    </div>
                    <!--
                    <div class="col-12 col-sm-12">
                        <button class="btn btn-info mt-2" id="modalTranCaraBayar"
                            style="font-weight: bold;width:100%;">+
                            Pembayaran Cara Lain
                        </button>
                    </div>
                    -->
                </div>


                <div class="row">
                    <div class="col-12">
                        <table class="table">
                            <tbody>
                                <tr>
                                    <td>Total Belanja</th>
                                    <td id="modalPPOBTotalBelanja">0</td>
                                    <input type="hidden" id="modalPPOBTotalBelanjaVal">
                                    <td>Total Bayar</td>
                                    <td id="modalPPOBTotalBayar">0</td>
                                </tr>
                                <tr>
                                    <td>Total Item </th>
                                    <td id="modalPPOBTotalItemBayar">0</td><input type="hidden"
                                        id="modalPPOBTotalItemBayarVal">
                                    <td>Kembalian</td>
                                    <td id="modalPPOBKembalian">0</td><input type="hidden" id="modalPPOBKembalianVal">
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-sm-12">
                        <button class="btn btn-success " id="customer" style="font-weight: bold;width:100%;"
                            onclick="getTokenKaspro('PULSA','savePPOB');">Submit
                            Pembayaran
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="modal " id="modalOther">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-success ">
                <span style="font-weight:bold ;" id="modalOtherModalTitle"> </span> <button type="button" class="close"
                    data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body " style="font-weight:bold;">
                <input type="hidden" class="form-control font-weight-bold" id="modalOtherKodeBayar"
                    placeholder="Kode Bayar">
                <input type="hidden" class="form-control font-weight-bold" id="modalOtherPrice" placeholder="Price">
                <input type="hidden" class="form-control font-weight-bold" id="modalOtherTitle" placeholder="title">
                <input type="hidden" class="form-control font-weight-bold" id="modalOtherTipe" placeholder="Tipe">
                <input type="hidden" class="form-control font-weight-bold" id="modalOtherTipeTransaksi"
                    placeholder="Tipe">
                <div class="row">
                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <input type="text" class="form-control font-weight-bold" id="modalOtherNomor"
                                placeholder="Nomor Transaksi">
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <input type="hidden" class="form-control" id="modalOtherProvider">
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                id="modalOtherValue">
                                <option value="" selected disabled>TUJUAN......</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <button class="btn btn-info " id="cariPaket" style="font-weight: bold;width:100%;"
                            onclick="getTokenKaspro('PDAM_DETAIL','kasProBillerInqueryOtherPDAM');">
                            <i class='fa fa-search'> </i>PILIH
                        </button>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label for="Nama">Nama</label>
                            <input type="email" class="form-control" id="modalOtherName" placeholder="Nama" readonly>
                            <small id="emailHelp" class="form-text text-muted">Nama Pemilik Tagihan
                            </small>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label for="Tagihan">Tagihan</label>
                            <input type="email" class="form-control" id="modalOtherTagihan" placeholder="Tagihan"
                                readonly>
                            <small id="emailHelp" class="form-text text-muted">Tagihan untuk Acount
                            </small>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label for="BiayaAdmin">Biaya Admin</label>
                            <input type="email" class="form-control" id="modalOtherAdminFee" placeholder="Biaya Admin"
                                readonly>
                            <small id="emailHelp" class="form-text text-muted">Admin Fee
                            </small>
                        </div>
                    </div>
                </div>

                <div class="row" id="biilerInqOther">


                </div>

                <div class="row mt-2">
                    <div class="col-6 col-sm-6">
                        <div class="form-group">

                            <input type="hidden" class="form-control font-weight-bold" id="modalOtherKodeBayar"
                                placeholder="Kode Bayar">
                            <input type="hidden" class="form-control font-weight-bold" id="modalOtherPrice"
                                placeholder="Price">
                            <input type="hidden" class="form-control font-weight-bold" id="modalOtherTipe"
                                placeholder="Tipe">

                            <input type="number" class="form-control font-weight-bold" id="modalOtherJumlahUang"
                                placeholder="Jumlah Uang" onkeyup="toMoney3()">
                        </div>
                    </div>

                    <div class="col-6 col-sm-6">
                        <div class="form-group">
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                id="modalOtherTypeBayar">
                                <option value="" selected disabled>CARA BAYAR</option>
                                <option value="000001">CASH</option>
                                <option value="000002">QRIS</option>
                                <option value="000003">FELLO BALANCE</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-12 col-sm-12">
                        <button class="btn btn-info mt-2" id="modalTranCaraBayar"
                            style="font-weight: bold;width:100%;">+
                            Pembayaran Cara Lain
                        </button>
                    </div>
                </div>


                <div class="row">
                    <div class="col-12">
                        <table class="table">

                            <tbody>
                                <tr>
                                    <td>Total Belanja</th>
                                    <td id="modalOtherTotalBelanja">0</td><input type="hidden"
                                        id="modalOtherTotalBelanjaVal">
                                    <td>Total Bayar</td>
                                    <td id="modalOtherTotalBayar">0</td>
                                </tr>
                                <tr>
                                    <td>Total Item </th>
                                    <td id="modalOtherTotalItemBayar">0</td><input type="hidden"
                                        id="modalOtherTotalItemBayarVal">
                                    <td>Kembalian</td>
                                    <td id="modalOtherKembalian">0</td><input type="hidden" id="modalOtherKembalianVal">
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-sm-12">
                        <button class="btn btn-success " id="customer" style="font-weight: bold;width:100%;"
                            onclick="getTokenKaspro('OTHER','saveOther');">Submit
                            Pembayaran
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>



<div class="modal " id="modalPpobFello">
    <div class="mt-2 " style="width:100%">
        <div class="modal-content">
            <div class="modal-header bg-success ">
                <span style="font-weight:bold ;" id="modalPpobFelloModalTitle">PPOB PLN </span> <button type="button"
                    onclick="backTampilan()" class="close text-white" data-dismiss="modal"><i
                        class="fa-solid fa-chevron-left"></i>&nbsp;Back&nbsp;&nbsp;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body " style="font-weight:bold;">
                <div class="row">

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label for="">Kode Layanan</label>
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                onchange="pilihDenum()" id="modalPpobFelloKodeLayanan">
                                <option value="">Pilih..</option>
                                <option value="3">Prepaid</option>
                                <option value="4">Postpaid</option>
                                <option value="5">NonTagLis</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label for="">Denum</label>
                            <select class="form-control " style="padding: 2px;font-weight: bold;"
                                id="modalPpobFelloDenum">
                                <option value="">Pilih..</option>
                                <option value="000000020000">Rp 20.000</option>
                                <option value="000000050000">Rp 50.000</option>
                                <option value="000000100000">Rp 100.000</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label for="">Nomor</label>
                            <div class="input-group" style="margin-bottom: 0px !important;">
                                <input type="number" class="form-control font-weight-bold" id="modalPpobFelloNomor"
                                    value="" onkeyup="cekLength()" placeholder="Nomor">

                                &nbsp;
                                <div class="input-group-append">
                                    <img width="35px" height="35px" id="imageNomor" alt="" style="display:none;">
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label for="">&nbsp;</label>
                            <button class="btn btn-info " id="cariPaket" style="font-weight: bold;width:100%;"
                                onclick="felloPlnPostPaid('','felloPlnPostPaidInq');">
                                <i class='fa fa-search'> </i>&nbsp; Cari
                            </button>
                        </div>
                    </div>

                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label for="">&nbsp;</label>
                            <button class="btn btn-danger " id="resetPln" style="font-weight: bold;width:100%;"
                                onclick="felloResetPln();">
                                <i class="fa-solid fa-rotate"></i> Reset
                            </button>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-12 col-sm-12" id="dataPlnPostPaidFello">
                        DETAIL DATA
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Harga</label>
                            <input type="number" class="form-control font-weight-bold" id="modalPpobFelloTagihan"
                                readonly placeholder="Jumlah Tagihan">
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Jumlah Uang</label>
                            <input type="hidden" class="form-control font-weight-bold" id="modalPpobFelloKodeBayar"
                                placeholder="Kode Bayar">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPpobFelloPrice"
                                placeholder="Price">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPpobFelloTitle"
                                placeholder="title">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPpobFelloTipe"
                                placeholder="Tipe">
                            <input type="hidden" class="form-control font-weight-bold" id="modalPpobFelloTipeTransaksi"
                                placeholder="Tipe">

                            <input type="number" class="form-control font-weight-bold" id="modalPpobFelloJumlahUang"
                                placeholder="Jumlah Uang" onkeyup="toMoneyFelloPpob('PLN')">
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Cara Bayar</label>
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                onchange="pilihFelloBalancePln()" id="modalPpobFelloTypeBayar">
                                <option value="000001">CASH</option>
                                <option value="000002">QRIS</option>
                                <option value="000003">FELLO BALANCE</option>
                            </select>
                        </div>
                    </div>
                </div>


                <div class="row">

                    <div class="col-12">
                        <div class="row">
                            <div class="col-6 col-sm-3 col-md-3 mb-2">Total Belanja</div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2" id="modalPpobFelloTotalBelanja">0 <input
                                    type="hidden" id="modalPpobFelloTotalBayarVal"></div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2">Total Bayar</div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2" id="modalPpobFelloTotalBayar">0</div>
                            <div class="col-12 border-bottom"></div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2">Kembalian</div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2" id="modalPpobFelloKembalian">0</div><input
                                type="hidden" id="modalPpobFelloKembalianVal">
                            <div class="col-6 col-sm-3 col-md-3 mb-2"> Total Item </div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2" id="modalPpobFelloTotalItemBayar">0</div><input
                                type="hidden" id="modalPpobFelloTotalItemBayarVal">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-sm-12">
                        <button class="btn btn-success " id="customer" style="font-weight: bold;width:100%;"
                            id="btnPaymentPln" onclick="cekPayment('felloPlnPostPaidPayment');">Submit
                            Pembayaran
                        </button>
                        <button class="btn btn-info " id="btnCekPaymentPln"
                            style="font-weight: bold;width:100%;display:none;" onclick="walletSukses();">Cek
                            Payment
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="modal " id="modalMultiFello">
    <div class="mt-2" style="width:100%">
        <div class="modal-content">
            <div class="modal-header bg-success ">
                <span style="font-weight:bold ;" id="modalMultiFelloModalTitle"> MULTI BILLER</span> <button
                    type="button" onclick="backTampilan()" class="close text-white" data-dismiss="modal"><i
                        class="fa-solid fa-chevron-left"></i>&nbsp;Back&nbsp;&nbsp;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body " style="font-weight:bold;">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Nomor</label>
                            <div class="input-group" style="margin-bottom: 0px !important;margin-top: 2px !important;">
                                <input type="number" class="form-control font-weight-bold" id="modalMultiFelloNomor"
                                    value="081219991500" onkeyup="cekNomor()" placeholder="Nomor">
                                &nbsp;
                                <div class="input-group-append">
                                    <img width="35px" height="35px" id="imageNomor" alt="" style="display:none;">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Tipe Layanan</label>
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                onchange="selFelloProductFilter()" id="modalMultiFelloTipeLayanan">
                                <option value="">Pilih..</option>
                                <option value="06">Telekomunikasi</option>
                                <option value="07">PDAM</option>
                                <option value="08">Transportation</option>
                                <option value="09">Voucher Game</option>
                                <option value="10">Remittance</option>
                                <option value="11">Multifinance</option>
                                <option value="12">Pajak</option>
                                <option value="13">BPJS</option>
                                <option value="14">Donasi</option>
                                <option value="16">Intek</option>
                                <option value="17">PDAM Spek 1</option>
                                <option value="27">PDAM Spek 2</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Kode Layanan</label>
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                onchange="selFelloProductFilter()" id="modalMultiFelloKodeLayanan">
                                <option value="">Pilih..</option>
                                <option value="3">Prepaid</option>
                                <option value="4">Postpaid</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Product</label>
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                onchange="clearFelloMulti1()" id="modalMultiFelloProduct">
                                <option value="">Pilih..</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">&nbsp;</label>
                            <button class="btn btn-info " id="cariPaket" style="font-weight: bold;width:100%;"
                                onclick="felloPilihBiller();">
                                <i class='fa fa-search'> </i>PILIH
                            </button>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">&nbsp;</label>
                            <button class="btn btn-danger " id="reset" style="font-weight: bold;width:100%;"
                                onclick="felloResetBiller();">
                                <i class="fa-solid fa-rotate"></i> Reset
                            </button>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-12 col-sm-12" id="dataMultiBillerFello">
                        Detail
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Harga</label>
                            <input type="number" class="form-control font-weight-bold" id="modalMultiFelloHarga"
                                readonly placeholder="Harga">
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Jumlah Uang</label>
                            <input type="hidden" class="form-control font-weight-bold" id="modalMultiFelloKodeBayar"
                                placeholder="Kode Bayar">
                            <input type="hidden" class="form-control font-weight-bold" id="modalMultiFelloPrice"
                                placeholder="Price">
                            <input type="hidden" class="form-control font-weight-bold" id="modalMultiFelloTitle"
                                placeholder="title">
                            <input type="hidden" class="form-control font-weight-bold" id="modalMultiFelloTipe"
                                placeholder="Tipe">
                            <input type="hidden" class="form-control font-weight-bold" id="modalMultiFelloTipeTransaksi"
                                placeholder="Tipe">

                            <input type="number" class="form-control font-weight-bold" id="modalMultiFelloJumlahUang"
                                placeholder="Jumlah Uang" onkeyup="toMoneyFelloPpob('MULTI')">
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label for="">Tipe Bayar</label>
                            <select class="form-control" style="width:100%;padding: 2px;font-weight: bold;"
                                onchange="pilihFelloBalance()" id="modalMultiFelloTypeBayar">
                                <option value="000001">CASH</option>
                                <option value="000002">QRIS</option>
                                <option value="000003">FELLO BALANCE</option>
                            </select>
                        </div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-12">
                        <div class="row">
                            <div class="col-6 col-sm-3 col-md-3 mb-2">Total Belanja</div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2" id="modalMultiFelloTotalBelanja">0 <input
                                    type="hidden" id="modalMultiFelloTotalBelanjaVal"></div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2">Total Bayar</div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2" id="modalMultiFelloTotalBayar">0</div>
                            <div class="col-12 border-bottom"></div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2">Kembalian</div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2" id="modalMultiFelloKembalian">0</div><input
                                type="hidden" id="modalMultiFelloKembalianVal">
                            <div class="col-6 col-sm-3 col-md-3 mb-2"> Total Item </div>
                            <div class="col-6 col-sm-3 col-md-3 mb-2" id="modalMultiFelloTotalItemBayar">0</div><input
                                type="hidden" id="modalMultiFelloTotalItemBayarVal">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-sm-12">
                        <button class="btn btn-success " id="btnPaymentMultiBiller"
                            style="font-weight: bold;width:100%;" onclick="cekPayment('felloMultiBiller');">Submit
                            Pembayaran
                        </button>

                        <button class="btn btn-info " id="btnCekPaymentMultiBiller"
                            style="font-weight: bold;width:100%;display:none;" onclick="walletSukses();">Cek
                            Payment
                        </button>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="modal " id="modalTopUpFello">
    <div class="mt-2" style="width:100%">
        <div class="modal-content">
            <div class="modal-header bg-info ">
                <span style="font-weight:bold ;" id="modalTopUpFelloModalTitle"> TOP UP SALDO</span> <button
                    type="button" onclick="backTampilan()" class="close text-white" data-dismiss="modal"><i
                        class="fa-solid fa-chevron-left"></i>&nbsp;Back&nbsp;&nbsp;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body " style="font-weight:bold;">

                <div class="row">
                    <div class="col-6 col-sm-6">
                        <div class="form-group">
                            <label for="Nama">Nama Acount</label>
                            <h5 style="font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;"
                                id="modalTopUpFelloName"></h5>
                            <small id="" class="form-text text-muted">Nama Pemilik Acount
                            </small>
                        </div>
                    </div>

                    <div class="col-6 col-sm-6">
                        <div class="form-group">
                            <label for="Tagihan">Saldo</label>

                            <h5 style="font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;"
                                id="modalTopUpFelloSaldo"></h5>
                            <small id="" class="form-text text-muted">Saldo Pemilik Acount
                            </small>
                        </div>
                    </div>

                    <div class="col-6 col-sm-6">
                        <div class="form-group">
                            <label for="BiayaAdmin">Nomor Acount</label>
                            <h5 style="font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;"
                                id="modalTopUpFelloNoAcount"></h5>
                            <small id="" class="form-text text-muted">Nomor Acount
                            </small>
                        </div>
                    </div>


                    <div class="col-6 col-sm-6">
                        <button class="btn text-white bg-success border-bottom-0 border rounded ms-n5" type="button"
                            id="btnBinding" onclick="Binding('Binding')">Binding
                            <i class="fa-solid fa-link"></i>
                        </button>
                        &nbsp;&nbsp;
                        <button class="btn text-white bg-info border-bottom-0 border rounded ms-n5" type="button"
                            onclick="cekSaldo()">Lihat Saldo
                            <i class="fa-solid fa-sack-dollar"></i>
                        </button>
                        &nbsp;&nbsp;
                        <button class="btn text-white bg-warning border-bottom-0 border rounded ms-n5" type="button"
                            id="btnUnBinding" onclick="Binding('UnBinding')">UnBinding
                            <i class="fa-solid fa-link-slash"></i>
                        </button>
                        <!--
                        <button class="btn text-white bg-info border-bottom-0 border rounded ms-n5" type="button"
                            onclick="directDebitH2H()">Direct Debit
                            <i class="fa-solid fa-sack-dollar"></i>
                        </button>
                        -->
                    </div>
                </div>

                <div class="row">

                    <div id="accordion" style="width:96%;margin:auto;">
                        <div class="card">
                            <div class="card-header" id="headingOne">
                                <h5 class="mb-0"><img src="/template/files/assets/images/product/top_up_atm.png"
                                        width="80px" height="80px">
                                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne"
                                        aria-expanded="true" aria-controls="collapseOne">
                                        Transaksi Dari Bank
                                    </button>
                                </h5> <i class="fa-solid fa-angle-down" data-toggle="collapse"
                                    data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"></i>
                            </div>

                            <div id="collapseOne" class="collapse" aria-labelledby="headingOne"
                                data-parent="#headingOne">

                                <div class="card-header" id="headingOneone">
                                    <h5 class="mb-0"><img src="/template//files/assets/images/product/ic_bni.png"
                                            width="40px" height="40px">
                                        <button class="btn btn-link" data-toggle="collapse"
                                            data-target="#collapseOneone" aria-expanded="true"
                                            aria-controls="collapseOneone">
                                            Menggunakan BNI
                                        </button><i class="fa-solid fa-angle-down" data-toggle="collapse"
                                            data-target="#collapseOne" aria-expanded="true"
                                            aria-controls="collapseOne"></i>
                                    </h5>
                                </div>

                                <div id="collapseOneone" class="collapse" aria-labelledby="headingOneone"
                                    data-parent="#headingOne">
                                    <div class="card-body">ATM BNI<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Kartu ATM dan PIN BNI Anda</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih TRANSAKSI LAIN > TRANSFER KE REKENING TABUNGAN >
                                                        VIRTUAL
                                                        ACCOUNT BILLING</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Nomor Akun Virtual Anda ([virtual_account]) sebagai
                                                        tujuan transfer akun Anda.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah saldo yang ingin Anda topup.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>

                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Ikuti petunjuk untuk menyelesaikan transaksi Anda</h6>
                                                    <p class="text-muted m-b-10"></p>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="card-body">BNI Internet Banking<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masuk ke situs web ibank.bni.co.id</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih TRANSAKSI > VIRTUAL ACCOUNT BILLING </h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Akun Virtual Anda ([virtual_account]) sebagai
                                                        tujuan
                                                        transferakun kami.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih sumber dana Anda</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah saldo yang ingin Anda topup.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan kode otentikasi/token dalam konfirmasi.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6> Ikuti instruksi untuk menyelesaikan transaksi.</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">Mobile Banking<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Buka aplikasi mobile banking BNI </h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih TRANSFER > VIRTUAL ACCOUNT BILLING</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih "Input Baru"</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Nomor Akun Virtual Anda ([virtual_account]) sebagai
                                                        tujuan transfer akun Anda.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah saldo yang ingin Anda topup.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan PIN BNI Mobile Banking Anda.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6> Ikuti instruksi untuk menyelesaikan transaksi Anda.</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">SMS BANKING<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Buka Aplikasi SMS di Telepon.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Membuat SMS Baru</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Ketik SMS dengan Format:TRF[Spasi] NomorAkun Virtual Anda
                                                        [spasi] Jumlah</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Kirim ke 3346</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6> Nota • Contoh: TRF 86931234567809 100000</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card-header" id="headingOnetwo">
                                    <h5 class="mb-0"><img src="/template/files/assets/images/product/ic_bri.png"
                                            width="40px" height="40px">
                                        <button class="btn btn-link" data-toggle="collapse"
                                            data-target="#collapseOnetwo" aria-expanded="true"
                                            aria-controls="collapseOnetwo">
                                            Menggunakan BRI
                                        </button>
                                    </h5><i class="fa-solid fa-angle-down" data-toggle="collapse"
                                        data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"></i>
                                </div>

                                <div id="collapseOnetwo" class="collapse" aria-labelledby="headingOnetwo"
                                    data-parent="#headingOnetwo">
                                    <div class="card-body">ATM BRI<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Kartu Debit BRI & PIN ATM BRI Anda di ATM</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih opsi TRANSAKSI LAIN > Menu Lain > Pembayaran > Menu
                                                        Lain >
                                                        BRIVA</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Nomor Virtual Account Anda ([virtual_account])
                                                        sebagai
                                                        tujuan transfer rekening Anda.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah saldo yang ingin Anda topup.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pada halaman konfirmasi, pastikan detail pembayaran sudah
                                                        benar
                                                        seperti Nomor BRIVA,
                                                        Nama Nasabah dan Rekening Pembayaran
                                                    </h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Ikuti instruksi untuk menyelesaikan transaksi.</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">Internet Banking<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Login ke Website BRI Internet Banking
                                                        ib.bri.co.id/ib-bri/login
                                                    </h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih Menu Pembayaran Tagihan > Pilih Pembayaran > Pilih
                                                        BRIVA
                                                    </h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Di kolom kode pembayaran, masukkan Nomor Virtual Account
                                                        Anda
                                                        ([virtual_account]) sebagai akun
                                                        tujuan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah saldo yang ingin Anda topup</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pada halaman konfirmasi, pastikan detail pembayaran sudah
                                                        benar
                                                        seperti Nomor BRIVA, Nama
                                                        Nasabah dan Rekening Pembayaran
                                                    </h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan kata sandi dan mToken</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>

                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan kata sandi dan mToken</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">BRI Mobile Banking<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Login ke aplikasi mobile banking BRI Anda.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih menu BRI Mobile Banking > Pembayaran > BRIVA</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Nomor Virtual Account Anda ([virtual_account])
                                                        sebagai
                                                        tujuan akun Anda.</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah saldo yang ingin Anda isi ulang</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan PIN m-banking BRI Anda</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Ikuti instruksi untuk menyelesaikan transaksi Anda</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="card-header" id="headingOnetree">
                                    <h5 class="mb-0"><img src="/template/files/assets/images/product/ic_bca.png"
                                            width="40px" height="40px">
                                        <button class="btn btn-link" data-toggle="collapse"
                                            data-target="#collapseOnetree" aria-expanded="true"
                                            aria-controls="collapseOnetree">
                                            Menggunakan BCA
                                        </button>
                                    </h5><i class="fa-solid fa-angle-down" data-toggle="collapse"
                                        data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"></i>
                                </div>
                                <div id="collapseOnetree" class="collapse" aria-labelledby="headingOnetree"
                                    data-parent="#headingOnetree">
                                    <div class="card-body">ATM BCA<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan kartu ATM dan PIN BCA Anda</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih
                                                        menuTRANSAKSILAINNYA>TRANSFER>KEREKENINGBCAVIRTUALACCOUNT
                                                    </h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Nomor Virtual Account Anda ([virtual_account])
                                                        sebagai
                                                        rekening tujuan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah pengisian saldo yang ingin dibayarkan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">5</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Enter top up amount.</h6>
                                                    <p class="text-muted m-b-10">Ikuti instruksi untuk menyelesaikan
                                                        transaksi</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">KLIK BCA<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masuk ke website KLIK BCA</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih menu TRANSFER DANA > TRANSFER KE BCA VIRTUAL ACCOUNT
                                                    </h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Nomor VirtualAccount Anda ([virtual_account])
                                                        sebagairekening tujuan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah pengisian saldo yang ingin dibayarkan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">5</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan kode/token yang diperoleh dari KEYBCA APPLI 1</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">6</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Ikuti instruksi untuk menyelesaikan transaksi</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">Mobile Banking BCA (M-BCA)<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masuk ke aplikasi mobile m-BCA</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih menu M-TRANSFER > BCA VIRTUAL ACCOUNT</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Nomor VirtualAccount Anda ([virtual_account])
                                                        sebagairekening tujuan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah pengisian saldo yang ingin dibayarkan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">5</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan PIN m-BCAAnda</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">6</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Ikuti instruksi untuk menyelesaikan transaksi.</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">Mobile Banking BCA (SMS)<br>
                                        <div class="latest-update-box">
                                            <div class="row p-t-20 p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">1</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih menu m-BCA pada menu SIM Card Anda</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">2</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih menu m-PAYMENT > LAINNYA</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">3</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Pilih menu m-PAYMENT > LAINNYA</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">4</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan Nomor VirtualAccount Anda ([virtual_account])
                                                        sebagairekening tujuan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">5</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan jumlah pengisian saldo yang ingin dibayarkan</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-20">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">6</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Masukkan PIN m-BCA Anda lalu tekan OK</h6>
                                                    <p class="text-muted m-b-0">&nbsp;</p>
                                                </div>
                                            </div>
                                            <div class="row p-b-0">
                                                <div class="col-auto text-right update-meta">
                                                    <p class="text-muted m-b-0 d-inline">7</p>
                                                    <i class="fa-solid fa-forward-step"></i>
                                                </div>
                                                <div class="col">
                                                    <h6>Anda akan menerima SMS kofirmasi</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>


                        </div>

                        <div class="card">
                            <div class="card-header" id="headingTwo"><img
                                    src="/template/files/assets/images/product/mobile_banking.png" width="80px"
                                    height="80px">
                                <h5 class="mb-0"><i class="fa-solid fa-computer-classic"></i>
                                    <button class="btn btn-link collapsed" data-toggle="collapse"
                                        data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        Modern Channel
                                    </button>
                                </h5><i class="fa-solid fa-angle-down" data-toggle="collapse" data-target="#collapseOne"
                                    aria-expanded="true" aria-controls="collapseOne"></i>
                            </div>

                            <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo"
                                data-parent="#accordion">
                                <div class="card-body">

                                    <div class="card-header" id="headingTwoone">
                                        <h5 class="mb-0">
                                            <button class="btn btn-link" data-toggle="collapse"
                                                data-target="#collapseTwoone" aria-expanded="true"
                                                aria-controls="collapseTwoone">
                                                Alfamart / Alfamidi / Dandan / Lawson
                                            </button><i class="fa-solid fa-angle-down" data-toggle="collapse"
                                                data-target="#collapseTwo" aria-expanded="true"
                                                aria-controls="collapseTwo"></i>
                                        </h5>
                                    </div>

                                    <div id="collapseTwoone" class="collapse" aria-labelledby="headingTwoone"
                                        data-parent="#headingTwo">
                                        <div class="card-body">
                                            <div class="latest-update-box">
                                                <div class="row p-t-20 p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">1</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Datang ke Toko.</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">2</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Infokan ke kasir ingin Tarik Tunai KasPro dengan Wallet
                                                            ID
                                                            KasPro yaitu 16.</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">3</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Buat token, infokan nomor akun KasPro Anda dan tunjukkan
                                                            nomor token</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">4</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Infokan jumlah uang tunai yang ingin Anda tarik (nominal
                                                            kelipatan Rp 50.000 dan maksimal Rp 1.000.000) ke kasir
                                                        </h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">5</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Kasir akan memasukkan nomor Akun KasPro, nomor token dan
                                                            jumlah uang yang akan
                                                            ditarik tunai</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">6</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Saldo Kaspro akan terpotong otomatis dan pelanggan akan
                                                            mendapatkan laporan
                                                            notifikasi berhasil di aplikasi</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-0">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">7</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Pelanggan mendapatkan uang tunai dari kasir.</h6>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="card-header" id="headingOnetwo">
                                        <h5 class="mb-0">
                                            <button class="btn btn-link" data-toggle="collapse"
                                                data-target="#collapseOnetwo" aria-expanded="true"
                                                aria-controls="collapseOnetwo">
                                                Indomaret / Ceriamart
                                            </button>
                                        </h5><i class="fa-solid fa-angle-down" data-toggle="collapse"
                                            data-target="#collapseOne" aria-expanded="true"
                                            aria-controls="collapseOne"></i>
                                    </div>

                                    <div id="collapseOnetwo" class="collapse" aria-labelledby="headingOnetwo"
                                        data-parent="#headingOnetwo">
                                        <div class="card-body">
                                            <div class="latest-update-box">
                                                <div class="row p-t-20 p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">1</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Datang ke Toko.</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">2</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Infokan ke kasir ingin Tarik Tunai KasPro dengan Kode
                                                            Bin
                                                            KasPro yaitu 000076.</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">3</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Buat token, infokan nomor Akun KasPro Anda dan tunjukkan
                                                            nomor token</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">4</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Infokan jumlah uang tunai yang ingin Anda tarik (nominal
                                                            kelipatan Rp 50.000 dan
                                                            maksimal Rp 1.000.000) ke kasir</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">5</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Kasir akan memasukkan nomor Akun KasPro, nomor token dan
                                                            jumlah uang yang akan
                                                            ditarik tunai</h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-30">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">6</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Saldo Kaspro akan terpotong otomatis dan pelanggan akan
                                                            mendapatkan laporan
                                                            notifikasi berhasil di aplikasi
                                                        </h6>
                                                        <p class="text-muted m-b-0">&nbsp;</p>
                                                    </div>
                                                </div>
                                                <div class="row p-b-0">
                                                    <div class="col-auto text-right update-meta">
                                                        <p class="text-muted m-b-0 d-inline">4</p>
                                                        <i class="fa-solid fa-forward-step"></i>
                                                    </div>
                                                    <div class="col">
                                                        <h6>Pelanggan mendapatkan uang tunai dari kasir.</h6>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>


                                </div>

                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal " id="modalBayarFello">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-success ">
                <span style="font-weight:bold ;" id="modalFelloFrameText"> Bayar Fello </span> <button type="button"
                    class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <div class="row">
                    <div class="col-12">
                        <iframe id="modalBayarFelloFrame" src="" width="100%" height="380" frameborder="0"
                            allowtransparency="true"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!--<button onclick="openModalBayarFello();">test</button>-->
<!--<button onclick="printStruckPln(3,'')">test</button>-->
<iframe id="printf" name="printf" style="display:none;"></iframe>
